(self.webpackChunkwirer=self.webpackChunkwirer||[]).push([[179],{42126:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__(3012).configure)([__webpack_require__(39251),__webpack_require__(59163)],module,!1)},76986:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__(3012)},4525:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{function DumbBox(id,obj){var _this=this,el=document.getElementById(id);this.ctx=el.getContext("2d"),obj.controls&&window.addEventListener("keyup",(function(e){var move={37:"left",38:"up",39:"right",40:"down"}[e.keyCode];move&&_this.player.pushMove(move)}))}__webpack_require__(21249),__webpack_require__(43290),__webpack_require__(91038),__webpack_require__(78783),__webpack_require__(24812),__webpack_require__(26699),__webpack_require__(40561),window.DumbBox=DumbBox,DumbBox.prototype={drawHLine:function drawHLine(y,w,c){var ctx=this.ctx;ctx.save(),ctx.lineWidth=w||1,ctx.beginPath(),ctx.moveTo(0,y),ctx.lineTo(ctx.canvas.width,y),ctx.stroke(),ctx.restore()},drawVLine:function drawVLine(x,w){var ctx=this.ctx;ctx.save(),ctx.lineWidth=w||1,ctx.beginPath(),ctx.moveTo(x,0),ctx.lineTo(x,ctx.canvas.height),ctx.stroke(),ctx.restore()},drawPlayer:function drawPlayer(x,y){var ctx=this.ctx,size=this.map.size;ctx.beginPath(),ctx.rect(this.player.x*size,this.player.y*size,size,size),ctx.fillStyle="black",ctx.fill()},loadMap:function loadMap(size,map,colors){var _this2=this,initialPos=map.initialPos;this.map={initialPos,size,data:map,colors,coord:function coord(x,y){return _this2.map.data[y][x]}},this.map.data=map.tiled.map((function(line){return Array.from(line)})),this.player=new Player(initialPos[0],initialPos[1],this.map)},drawMap:function drawMap(){for(var map=this.map.data,i=0;i<map.length;i++)for(var row=map[i],j=0;j<row.length;j++)this.drawTile(j,i,row[j])},drawTile:function drawTile(x,y,type){var ctx=this.ctx,size=this.map.size,colors=this.map.colors;ctx.beginPath(),ctx.rect(x*size,y*size,size,size),ctx.fillStyle=colors[type],ctx.fill()},runCycle:function runCycle(dt){if(this.paused)return null;this.player.update(dt),this.clearCanvas(),this.drawMap(),this.drawPlayer()},clearCanvas:function clearCanvas(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)},reset:function reset(){this.player.x=this.map.initialPos[0],this.player.y=this.map.initialPos[1],this.player.clearMoves()},start:function start(){var lastTime=null,_anim=function anim(timestamp){lastTime||(lastTime=timestamp);var dt=timestamp-lastTime;lastTime=timestamp,this.runCycle(dt),window.requestAnimationFrame(_anim)};_anim=_anim.bind(this),window.requestAnimationFrame(_anim)}};var Player=function Player(x,y,map){this.x=x||0,this.y=y||0,this.map=map,this.moves=[],this.actions=[]};Player.prototype={pushMove:function pushMove(move){if(!["left","right","up","down"].includes(move))return null;this.moves.push(move)},clearMoves:function clearMoves(){this.moves=[],this.actions=[]},pushNextAction:function pushNextAction(){switch(this.moves.splice(0,1)[0]){case"left":this.actions.push(this.makeMove(this.x-1,this.y));break;case"right":this.actions.push(this.makeMove(this.x+1,this.y));break;case"up":this.actions.push(this.makeMove(this.x,this.y-1));break;case"down":this.actions.push(this.makeMove(this.x,this.y+1))}},update:function update(dt){!this.actions[0]&&this.moves[0]&&this.pushNextAction(),this.actions[0]&&this.actions[0].call(this,dt)&&this.actions.shift()},makeMove:function makeMove(x,y){return function(dt){var map=this.map,vel=.0025,invalid=x<0||x>=map.data[0].length||y<0||y>=map.data.length||"0"!=map.coord(x,y);if(this.x==x&&this.y==y||invalid)return!0;x<this.x?this.x=this.x-dt*vel<=x?x:this.x-dt*vel:this.x=this.x+dt*vel>=x?x:this.x+dt*vel,y<this.y?this.y=this.y-dt*vel<=y?y:this.y-dt*vel:this.y=this.y+dt*vel>=y?y:this.y+dt*vel}}}},82008:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Container:()=>Container,default:()=>Container_stories});__webpack_require__(19601),__webpack_require__(67294);var components=__webpack_require__(75480),getRandom=(__webpack_require__(21249),function getRandom(min,max){return min+Math.random()*(max-min)}),jsx_runtime=__webpack_require__(85893);const Container_stories={title:"Components/Container",component:components.W2,argTypes:{backgroundColor:{control:"color"},gridColor:{control:"color"}}};var onLoad=function randomizeNodes(nodeNames){return function(canvas){var _canvas$render$config=canvas.render.config,width=_canvas$render$config.width,height=_canvas$render$config.height,nodes=nodeNames.map((function(nodeName){return canvas.createNode(nodeName,{x:getRandom(100,width-200),y:getRandom(100,height-200)})}));canvas.addNodes(nodes)}}(["SourceString","SourceNumber","Alert"]),Container=function Container(args){return(0,jsx_runtime.jsx)(components.W2,Object.assign({},args,{onLoad}))};Container.displayName="Container",Container.parameters=Object.assign({storySource:{source:"(args) => (\n    <ContainerComponent\n      {...args}\n      onLoad={onLoad}\n    />\n)"}},Container.parameters);try{Container.displayName="Container",Container.__docgenInfo={description:"",displayName:"Container",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/Container.stories.tsx#Container"]={docgenInfo:Container.__docgenInfo,name:"Container",path:"stories/Container.stories.tsx#Container"})}catch(__react_docgen_typescript_loader_error){}},39850:(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(35837),__webpack_require__(5735),__webpack_require__(83753),__webpack_require__(21249),__webpack_require__(32564),__webpack_require__(47042),__webpack_require__(41539),__webpack_require__(68309),__webpack_require__(91038),__webpack_require__(78783),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(32165),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(79753),__webpack_require__(67294);var client=__webpack_require__(3012),components=__webpack_require__(75480);const canvas_flows_namespaceObject=JSON.parse('[[{"refNode":"start","inputs":{},"id":"9","x":30,"y":30,"ports":{"in":[],"out":[],"flow_in":[[]],"flow_out":[[{"nodeId":"11","id":0}]]}},{"refNode":"getInstance","inputs":{},"id":"10","x":67.22016096499101,"y":142.14614420643892,"ports":{"in":[],"out":[[{"nodeId":"11","id":0}]],"flow_in":[],"flow_out":[]}},{"refNode":"actInstance","inputs":{},"id":"11","x":229.61234870960288,"y":49.587818831180925,"ports":{"in":[[{"nodeId":"10","id":0}]],"out":[[]],"flow_in":[[{"nodeId":"9","id":0}]],"flow_out":[[]]}},{"refNode":"SourceNumber","inputs":{},"id":"12","x":266.6114112417047,"y":283.8300868679702,"ports":{"in":[],"out":[[]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceNumber","inputs":{},"id":"13","x":549.8632992516373,"y":350.14619125562007,"ports":{"in":[],"out":[[]],"flow_in":[],"flow_out":[]}},{"refNode":"Operation","inputs":{},"id":"14","x":49.94597633595123,"y":340.11591620123977,"ports":{"in":[[],[]],"out":[[]],"flow_in":[],"flow_out":[]}},{"refNode":"Operation","inputs":{},"id":"15","x":461.5663711036408,"y":78.51170453768108,"ports":{"in":[[],[]],"out":[[]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceString","inputs":{},"id":"16","x":359.4434096138747,"y":401.2593435007297,"ports":{"in":[],"out":[[]],"flow_in":[],"flow_out":[]}}],[{"refNode":"start","inputs":{},"id":"37","x":-22.333333333333336,"y":36.55555555555556,"ports":{"in":[],"out":[],"flow_in":[[{"nodeId":"48","id":0}]],"flow_out":[[{"nodeId":"39","id":0}]]}},{"refNode":"getInstance","inputs":{},"id":"38","x":63.37513138858804,"y":137.118739946235,"ports":{"in":[],"out":[[{"nodeId":"39","id":0},{"nodeId":"40","id":0}]],"flow_in":[],"flow_out":[]}},{"refNode":"actInstance","inputs":{"method":"strokeRect"},"id":"39","x":421.9370984450252,"y":28.728836229346186,"ports":{"in":[[{"nodeId":"38","id":0}],[{"nodeId":"43","id":0}],[{"nodeId":"43","id":0}],[{"nodeId":"44","id":0}],[{"nodeId":"44","id":0}]],"out":[],"flow_in":[[{"nodeId":"37","id":0}]],"flow_out":[[{"nodeId":"40","id":0}]]}},{"refNode":"actInstance","inputs":{"method":"fillRect"},"id":"40","x":610.7254286874715,"y":224.018462707902,"ports":{"in":[[{"nodeId":"38","id":0}],[{"nodeId":"46","id":0}],[{"nodeId":"46","id":0}],[{"nodeId":"45","id":0}],[{"nodeId":"45","id":0}]],"out":[],"flow_in":[[{"nodeId":"39","id":0}]],"flow_out":[[{"nodeId":"48","id":0}]]}},{"refNode":"SourceNumber","inputs":{},"id":"41","x":-67.34350286515388,"y":467.4373707435789,"ports":{"in":[],"out":[[]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceNumber","inputs":{"number":20},"id":"42","x":209.14111039217133,"y":538.6265360585338,"ports":{"in":[],"out":[[{"nodeId":"45","id":1}]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceNumber","inputs":{"number":140},"id":"43","x":68.49529080535656,"y":281.8069098536643,"ports":{"in":[],"out":[[{"nodeId":"39","id":1},{"nodeId":"39","id":2},{"nodeId":"46","id":0}]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceNumber","inputs":{"number":60},"id":"44","x":70.3171240612187,"y":392.31061713523434,"ports":{"in":[],"out":[[{"nodeId":"39","id":3},{"nodeId":"39","id":4},{"nodeId":"45","id":0}]],"flow_in":[],"flow_out":[]}},{"refNode":"Operation","inputs":{"op":"-"},"id":"45","x":343.82314754916274,"y":491.9936322169574,"ports":{"in":[[{"nodeId":"44","id":0}],[{"nodeId":"42","id":0}]],"out":[[{"nodeId":"40","id":3},{"nodeId":"40","id":4}]],"flow_in":[],"flow_out":[]}},{"refNode":"Operation","inputs":{"op":"+"},"id":"46","x":317.1317379141999,"y":359.7213364406877,"ports":{"in":[[{"nodeId":"43","id":0}],[{"nodeId":"47","id":0}]],"out":[[{"nodeId":"40","id":1},{"nodeId":"40","id":2}]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceString","inputs":{"text":10},"id":"47","x":67.02523326464508,"y":498.619559830307,"ports":{"in":[],"out":[[{"nodeId":"46","id":1}]],"flow_in":[],"flow_out":[]}},{"refNode":"delay","inputs":{"value":200},"id":"48","x":554.9715182602978,"y":497.14682432068366,"ports":{"in":[],"out":[],"flow_in":[[{"nodeId":"40","id":0}]],"flow_out":[[{"nodeId":"37","id":0}]]}}]]');var jsx_runtime=__webpack_require__(85893);function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}module=__webpack_require__.hmd(module);var getRandom=function getRandom(min,max){return min+Math.random()*(max-min)};(0,client.storiesOf)("Examples",module).addParameters({storySource:{source:"import React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { Container } from '../src/react/components';\nimport canvasFlows from './flows/canvas-flows.json';\n\nconst getRandom = (min, max) => min + (Math.random() * (max - min));\n\nstoriesOf('Examples', module)\n  .add('Canvas', () => (\n    <div id=\"container\">\n      <canvas id=\"myCanvas\" width=\"460\" height=\"320\" style={{ border: '1px solid black' }}></canvas>\n      <div id=\"test\">\n        <Container\n          onLoad={canvas => {\n            const initialNodes = [\n              'getInstance', 'actInstance', 'actInstance',\n              'SourceNumber', 'SourceNumber', 'SourceNumber', 'SourceNumber',\n              'Operation', 'Operation',\n              'SourceString',\n              'delay'\n            ];\n            globalThis.canvas = canvas;\n\n            document.getElementById('run').onclick = function() {\n              canvas.run();\n            };\n\n            document.getElementById('clipboard').onclick = function() {\n              const json = canvas.toJSON();\n              navigator.clipboard.writeText(JSON.stringify(json, null, 2));\n            };\n\n            const canvasElement = document.querySelector('#myCanvas');\n            document.getElementById('run').onclick = function() {\n              canvas.run({ canvasElement });\n              canvas.toJSON();\n            };\n\n            document.getElementById('random').onclick = function() {\n              randomNodes();\n            }\n\n            function loadExample (id) {\n              canvas.loadJSON(canvasFlows[id]);\n            };\n\n            function onLoad (event) {\n              loadExample(event.target.dataset.index);\n            }\n\n            for (let button of document.getElementsByClassName('load')) {\n              button.addEventListener('click', onLoad);\n            }\n\n            function randomNodes () {\n              const nodes = initialNodes.map(nodeName => {\n                const [x, y] = [getRandom(30, 700), getRandom(30, 500)];\n                return canvas.createNode(nodeName, { x, y });\n              });\n              canvas.clearCanvas();\n              canvas.addNodes(nodes);\n            }\n\n            window.setTimeout(() => {\n              loadExample('1');\n            }, 0);\n          }}\n        />\n      </div>\n      <ul className=\"button-list\">\n        <li><button id=\"run\" type=\"button\">run</button></li>\n        <li><button id=\"random\" type=\"button\">random</button></li>\n        <li><button id=\"clipboard\" type=\"button\">clipboard</button></li>\n        <li className=\"separator\"></li>\n        <li><button className=\"load\" type=\"button\" data-index=\"0\">load 1</button></li>\n        <li><button className=\"load\" type=\"button\" data-index=\"1\">load 2</button></li>\n      </ul>\n    </div>\n  ))\n",locationsMap:{canvas:{startLoc:{col:7,line:9},endLoc:{col:3,line:79},startBody:{col:17,line:9},endBody:{col:3,line:79}}}}}).add("Canvas",(function(){return(0,jsx_runtime.jsxs)("div",{id:"container",children:[(0,jsx_runtime.jsx)("canvas",{id:"myCanvas",width:"460",height:"320",style:{border:"1px solid black"}}),(0,jsx_runtime.jsx)("div",{id:"test",children:(0,jsx_runtime.jsx)(components.W2,{onLoad:function onLoad(canvas){var initialNodes=["getInstance","actInstance","actInstance","SourceNumber","SourceNumber","SourceNumber","SourceNumber","Operation","Operation","SourceString","delay"];globalThis.canvas=canvas,document.getElementById("run").onclick=function(){canvas.run()},document.getElementById("clipboard").onclick=function(){var json=canvas.toJSON();navigator.clipboard.writeText(JSON.stringify(json,null,2))};var canvasElement=document.querySelector("#myCanvas");function loadExample(id){canvas.loadJSON(canvas_flows_namespaceObject[id])}function onLoad(event){loadExample(event.target.dataset.index)}document.getElementById("run").onclick=function(){canvas.run({canvasElement}),canvas.toJSON()},document.getElementById("random").onclick=function(){!function randomNodes(){var nodes=initialNodes.map((function(nodeName){var _ref=[getRandom(30,700),getRandom(30,500)],x=_ref[0],y=_ref[1];return canvas.createNode(nodeName,{x,y})}));canvas.clearCanvas(),canvas.addNodes(nodes)}()};var _step,_iterator=_createForOfIteratorHelper(document.getElementsByClassName("load"));try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value.addEventListener("click",onLoad)}}catch(err){_iterator.e(err)}finally{_iterator.f()}window.setTimeout((function(){loadExample("1")}),0)}})}),(0,jsx_runtime.jsxs)("ul",{className:"button-list",children:[(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{id:"run",type:"button",children:"run"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{id:"random",type:"button",children:"random"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{id:"clipboard",type:"button",children:"clipboard"})}),(0,jsx_runtime.jsx)("li",{className:"separator"}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"load",type:"button","data-index":"0",children:"load 1"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"load",type:"button","data-index":"1",children:"load 2"})})]})]})}))},95056:(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(21249),__webpack_require__(19601),__webpack_require__(32564);var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(67294),_storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3012),_src_react_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(75480),_flows_alert_flows_json__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(25651),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(85893);module=__webpack_require__.hmd(module);var __STORY__="import React from 'react';\n\nimport { storiesOf } from '@storybook/react';\n\nimport { Container, SplitSection } from '../src/react/components';\n\nconst getRandom = (min, max) => min + (Math.random() * (max - min));\nconst onLoad = canvas => {\n  const initialNodes = [\n    'SourceString', 'SourceNumber', 'Alert',\n  ];\n  const nodes = initialNodes.map(nodeName => {\n    return canvas.createNode(nodeName, {\n      x: getRandom(100, 600),\n      y: getRandom(100, 400),\n    });\n  });\n\n  canvas.addNodes(nodes);\n}\n\nstoriesOf('Custom Node', module)\n  .add('default', () => (\n    <Container\n      onLoad={onLoad}\n    />\n  ))\n  .add('SplitSection', () => {\n    const Node = ({ title, bgColor, wrapper, ports }) => (\n      <article style={{ backgroundColor: bgColor }}>\n        <header> {title} </header>\n        <SplitSection node={wrapper} ports={ports}>\n          <span role=\"img\">🐣</span>\n        </SplitSection>\n      </article>\n    );\n\n    const CustomNode = ({ title, bgColor, wrapper, ports }) => (\n      <article style={{ backgroundColor: bgColor }}>\n        <header> {title} </header>\n        <section>\n          <span role=\"img\">🐣</span>\n        </section>\n      </article>\n    );\n\n    return (\n      <React.Fragment>\n        <p><strong>SplitSection</strong> splits the section and position the ports on the nodes</p>\n\n        <p>With SplitSection</p>\n        <Container\n          renderNode={Node}\n          width={120}\n          height={120}\n          onLoad={canvas => canvas.clearCanvas()}\n        />\n        <p>Without SplitSection</p>\n        <Container\n          renderNode={CustomNode}\n          width={120}\n          height={120}\n          onLoad={canvas => canvas.clearCanvas()}\n        />\n      </React.Fragment>\n    );\n  })\n  .add('Square Node', () => {\n    const style = {\n      padding: 15,\n      border: '3px solid black',\n    }\n    const Node = ({ title, bgColor }) => (\n      <article style={{ ...style, backgroundColor: bgColor }}>\n        <h3>{title}</h3>\n      </article>\n    );\n    return (\n      <Container\n        renderNode={Node}\n        onLoad={onLoad}\n      />\n    );\n  })\n  .add('Text Node', () => {\n    const Text = ({ title, bgColor }) => (\n      <h1 style={{ backgroundColor: bgColor }}>{title}</h1>\n    );\n    return (\n      <Container\n        renderNode={Text}\n        onLoad={onLoad}\n      />\n    );\n  })\n\nimport alertFlows from './flows/alert-flows.json';\n\nstoriesOf('Custom Lines', module)\n  .add('leader-line', () => (\n    <Container\n      onLoad={canvas => {\n        canvas.render.internalRender = false;\n        window.setTimeout(function () {\n          canvas.loadJSON(alertFlows[0])\n        }, 0);\n      }}\n    />\n  ))\n",__LOCATIONS_MAP__={"text-node":{startLoc:{col:7,line:85},endLoc:{col:3,line:95},startBody:{col:20,line:85},endBody:{col:3,line:95}},"square-node":{startLoc:{col:7,line:68},endLoc:{col:3,line:84},startBody:{col:22,line:68},endBody:{col:3,line:84}},splitsection:{startLoc:{col:7,line:28},endLoc:{col:3,line:67},startBody:{col:23,line:28},endBody:{col:3,line:67}},default:{startLoc:{col:7,line:23},endLoc:{col:3,line:27},startBody:{col:18,line:23},endBody:{col:3,line:27}},"leader-line":{startLoc:{col:7,line:100},endLoc:{col:3,line:109},startBody:{col:22,line:100},endBody:{col:3,line:109}}},getRandom=function getRandom(min,max){return min+Math.random()*(max-min)},onLoad=function onLoad(canvas){var nodes=["SourceString","SourceNumber","Alert"].map((function(nodeName){return canvas.createNode(nodeName,{x:getRandom(100,600),y:getRandom(100,400)})}));canvas.addNodes(nodes)};(0,_storybook_react__WEBPACK_IMPORTED_MODULE_4__.storiesOf)("Custom Node",module).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).add("default",(function(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_react_components__WEBPACK_IMPORTED_MODULE_5__.W2,{onLoad})})).add("SplitSection",(function(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("p",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("strong",{children:"SplitSection"})," splits the section and position the ports on the nodes"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("p",{children:"With SplitSection"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_react_components__WEBPACK_IMPORTED_MODULE_5__.W2,{renderNode:function Node(_ref){var title=_ref.title,bgColor=_ref.bgColor,wrapper=_ref.wrapper,ports=_ref.ports;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("article",{style:{backgroundColor:bgColor},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("header",{children:[" ",title," "]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_react_components__WEBPACK_IMPORTED_MODULE_5__.I7,{node:wrapper,ports,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{role:"img",children:"🐣"})})]})},width:120,height:120,onLoad:function onLoad(canvas){return canvas.clearCanvas()}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("p",{children:"Without SplitSection"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_react_components__WEBPACK_IMPORTED_MODULE_5__.W2,{renderNode:function CustomNode(_ref2){var title=_ref2.title,bgColor=_ref2.bgColor;_ref2.wrapper,_ref2.ports;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("article",{style:{backgroundColor:bgColor},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("header",{children:[" ",title," "]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("section",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{role:"img",children:"🐣"})})]})},width:120,height:120,onLoad:function onLoad(canvas){return canvas.clearCanvas()}})]})})).add("Square Node",(function(){var style={padding:15,border:"3px solid black"};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_react_components__WEBPACK_IMPORTED_MODULE_5__.W2,{renderNode:function Node(_ref3){var title=_ref3.title,bgColor=_ref3.bgColor;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("article",{style:Object.assign({},style,{backgroundColor:bgColor}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("h3",{children:title})})},onLoad})})).add("Text Node",(function(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_react_components__WEBPACK_IMPORTED_MODULE_5__.W2,{renderNode:function Text(_ref4){var title=_ref4.title,bgColor=_ref4.bgColor;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("h1",{style:{backgroundColor:bgColor},children:title})},onLoad})})),(0,_storybook_react__WEBPACK_IMPORTED_MODULE_4__.storiesOf)("Custom Lines",module).addParameters({storySource:{source:__STORY__,locationsMap:__LOCATIONS_MAP__}}).add("leader-line",(function(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_react_components__WEBPACK_IMPORTED_MODULE_5__.W2,{onLoad:function onLoad(canvas){canvas.render.internalRender=!1,window.setTimeout((function(){canvas.loadJSON(_flows_alert_flows_json__WEBPACK_IMPORTED_MODULE_7__[0])}),0)}})}))},97310:(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(89554),__webpack_require__(54747),__webpack_require__(47941),__webpack_require__(32564),__webpack_require__(47042),__webpack_require__(41539),__webpack_require__(68309),__webpack_require__(91038),__webpack_require__(78783),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(32165),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(79753),__webpack_require__(67294);var client=__webpack_require__(3012),components=__webpack_require__(75480);const dumb_box_flows_namespaceObject=JSON.parse('[[{"refNode":"start","inputs":{},"id":0,"x":16,"y":33,"ports":{"in":[],"out":[],"flow_in":[],"flow_out":[[{"node":1,"id":0}]]}},{"refNode":"PushDown","inputs":{},"id":1,"x":18,"y":121,"ports":{"in":[],"out":[],"flow_in":[[{"node":0,"id":0}]],"flow_out":[[{"node":2,"id":0}]]}},{"refNode":"PushLeft","inputs":{},"id":2,"x":15,"y":197,"ports":{"in":[],"out":[],"flow_in":[[{"node":1,"id":0}]],"flow_out":[[{"node":3,"id":0}]]}},{"refNode":"PushDown","inputs":{},"id":3,"x":96,"y":277,"ports":{"in":[],"out":[],"flow_in":[[{"node":2,"id":0}]],"flow_out":[[{"node":4,"id":0}]]}},{"refNode":"PushDown","inputs":{},"id":4,"x":80,"y":354,"ports":{"in":[],"out":[],"flow_in":[[{"node":3,"id":0}]],"flow_out":[[{"node":5,"id":0}]]}},{"refNode":"PushRight","inputs":{},"id":5,"x":71,"y":419,"ports":{"in":[],"out":[],"flow_in":[[{"node":4,"id":0}]],"flow_out":[[{"node":6,"id":0}]]}},{"refNode":"PushDown","inputs":{},"id":6,"x":143,"y":467,"ports":{"in":[],"out":[],"flow_in":[[{"node":5,"id":0}]],"flow_out":[[{"node":7,"id":0}]]}},{"refNode":"PushRight","inputs":{},"id":7,"x":203,"y":533,"ports":{"in":[],"out":[],"flow_in":[[{"node":6,"id":0}]],"flow_out":[[{"node":8,"id":0}]]}},{"refNode":"PushRight","inputs":{},"id":8,"x":320,"y":446,"ports":{"in":[],"out":[],"flow_in":[[{"node":7,"id":0}]],"flow_out":[[{"node":10,"id":0}]]}},{"refNode":"PushUp","inputs":{},"id":10,"x":308,"y":326,"ports":{"in":[],"out":[],"flow_in":[[{"node":8,"id":0}]],"flow_out":[[{"node":11,"id":0}]]}},{"refNode":"PushUp","inputs":{},"id":11,"x":252,"y":230,"ports":{"in":[],"out":[],"flow_in":[[{"node":10,"id":0}]],"flow_out":[[{"node":12,"id":0}]]}},{"refNode":"PushRight","inputs":{},"id":12,"x":167,"y":133,"ports":{"in":[],"out":[],"flow_in":[[{"node":11,"id":0}]],"flow_out":[[{"node":13,"id":0}]]}},{"refNode":"PushUp","inputs":{},"id":13,"x":119,"y":19,"ports":{"in":[],"out":[],"flow_in":[[{"node":12,"id":0}]],"flow_out":[[{"node":14,"id":0}]]}},{"refNode":"PushUp","inputs":{},"id":14,"x":230,"y":39,"ports":{"in":[],"out":[],"flow_in":[[{"node":13,"id":0}]],"flow_out":[[{"node":15,"id":0}]]}},{"refNode":"PushRight","inputs":{},"id":15,"x":334,"y":62,"ports":{"in":[],"out":[],"flow_in":[[{"node":14,"id":0}]],"flow_out":[[{"node":17,"id":0}]]}},{"refNode":"PushRight","inputs":{},"id":17,"x":440,"y":110,"ports":{"in":[],"out":[],"flow_in":[[{"node":15,"id":0}]],"flow_out":[[{"node":18,"id":0}]]}},{"refNode":"PushDown","inputs":{},"id":18,"x":488,"y":203,"ports":{"in":[],"out":[],"flow_in":[[{"node":17,"id":0}]],"flow_out":[[{"node":19,"id":0}]]}},{"refNode":"PushDown","inputs":{},"id":19,"x":513,"y":288,"ports":{"in":[],"out":[],"flow_in":[[{"node":18,"id":0}]],"flow_out":[[{"node":21,"id":0}]]}},{"refNode":"PushLeft","inputs":{},"id":20,"x":534,"y":459,"ports":{"in":[],"out":[],"flow_in":[[{"node":21,"id":0}]],"flow_out":[[{"node":22,"id":0}]]}},{"refNode":"PushDown","inputs":{},"id":21,"x":527,"y":380,"ports":{"in":[],"out":[],"flow_in":[[{"node":19,"id":0}]],"flow_out":[[{"node":20,"id":0}]]}},{"refNode":"PushDown","inputs":{},"id":22,"x":661,"y":501,"ports":{"in":[],"out":[],"flow_in":[[{"node":20,"id":0}]],"flow_out":[[]]}}]]');__webpack_require__(4525);var jsx_runtime=__webpack_require__(85893);function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}module=__webpack_require__.hmd(module);var nodeConfig={PushUp:{fill:"#F5E867",ports:{data_in:0,data_out:0,flow_in:1,flow_out:1},title:"Up",behavior:function behavior(_,_ref){return _ref.moves.push("up"),0}},PushDown:{fill:"#FF8D4F",ports:{data_in:0,data_out:0,flow_in:1,flow_out:1},title:"Down",behavior:function behavior(_,_ref2){return _ref2.moves.push("down"),0}},PushLeft:{fill:"#D592F7",ports:{data_in:0,data_out:0,flow_in:1,flow_out:1},title:"Left",behavior:function behavior(_,_ref3){return _ref3.moves.push("left"),0}},PushRight:{fill:"#289E71",ports:{data_in:0,data_out:0,flow_in:1,flow_out:1},title:"Right",behavior:function behavior(_,_ref4){return _ref4.moves.push("right"),0}}};function onLoad(canvas){var game=new DumbBox("canvas",{controls:!1});function getRandomInt(min,max){return min=Math.ceil(min),max=Math.floor(max),Math.floor(Math.random()*(max-min+1))+min}function addNode(direction){var rect=canvas.createNode("Push"+direction);rect.x=150+getRandomInt(-25,25),rect.y=200+getRandomInt(-25,25),canvas.addNode(rect)}Object.keys(nodeConfig).forEach((function(key){return canvas.registerNode(key,nodeConfig[key])})),window.addEventListener("keyup",(function(e){({37:"Left",38:"Up",39:"Right",40:"Down"})[e.keyCode]&&addNode(diretion)})),document.getElementById("run").onclick=function(){canvas.run({moves:[]}).then((function(_ref5){var _step,_iterator=_createForOfIteratorHelper(_ref5.context.moves);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _move=_step.value;game.player.pushMove(_move)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}))},document.getElementById("reset").onclick=function(){game.reset()},document.getElementById("gameshark").onclick=function(){canvas.loadJSON(dumb_box_flows_namespaceObject[0])},["Left","Up","Right","Down"].forEach((function(dir){document.getElementById(dir.toLowerCase()).onclick=function(){addNode(dir)}})),window.setTimeout((function(){canvas.loadJSON(dumb_box_flows_namespaceObject[0])}),0);game.loadMap(50,{initialPos:[1,0],tiled:["10100000","00110101","01000101","00101000","10001011"]},{0:"red",1:"blue"}),game.start()}(0,client.storiesOf)("Examples",module).addParameters({storySource:{source:"\nimport React from 'react';\n\nimport { storiesOf } from '@storybook/react';\n\nimport { Container } from '../src/react/components';\nimport flowsJSON from './flows/dumb-box-flows.json';\nimport '../examples/dumb-box/dumb-box';\n\nvar nodeConfig = {\n  'PushUp': {\n    fill: '#F5E867',\n    ports: { data_in: 0, data_out: 0, flow_in: 1, flow_out: 1 },\n    title: 'Up',\n    behavior (_, { moves }) {\n      moves.push('up');\n      return 0;\n    }\n  },\n  'PushDown': {\n    fill: '#FF8D4F',\n    ports: { data_in: 0, data_out: 0, flow_in: 1, flow_out: 1 },\n    title: 'Down',\n    behavior (_, { moves }) {\n      moves.push('down');\n      return 0;\n    }\n  },\n  'PushLeft': {\n    fill: '#D592F7',\n    ports: { data_in: 0, data_out: 0, flow_in: 1, flow_out: 1 },\n    title: 'Left',\n    behavior (_, { moves }) {\n      moves.push('left');\n      return 0;\n    }\n  },\n  'PushRight': {\n    fill: '#289E71',\n    ports: { data_in: 0, data_out: 0, flow_in: 1, flow_out: 1 },\n    title: 'Right',\n    behavior (_, { moves }) {\n      moves.push('right');\n      return 0;\n    }\n  },\n};\n\n\nstoriesOf('Examples', module)\n  .add('Dumb Box', () => (\n    <div>\n      <p>Try clicking and deleting some node or connection to break the flow</p>\n      <p>You can reset and run again at any time</p>\n      <div id=\"container\">\n        <Container onLoad={onLoad} />\n        <ul className=\"button-list\">\n          <li><button id=\"run\" type=\"button\">Run</button></li>\n          <li><button id=\"reset\" type=\"button\">Reset</button></li>\n          <li className=\"separator\"></li>\n          <li><button id=\"up\" type=\"button\">Up</button></li>\n          <li><button id=\"down\" type=\"button\">Down</button></li>\n          <li><button id=\"left\" type=\"button\">Left</button></li>\n          <li><button id=\"right\" type=\"button\">Right</button></li>\n          <li className=\"separator\"></li>\n          <li><button id=\"gameshark\" type=\"button\">gameshark</button></li>\n        </ul>\n      </div>\n      <canvas id=\"canvas\" width=\"400\" height=\"450\"></canvas>\n    </div>\n  ))\n\nfunction onLoad (canvas) {\n  var game = new DumbBox('canvas', { controls: false });\n  Object.keys(nodeConfig).forEach(key => canvas.registerNode(key, nodeConfig[key]));\n\n  function getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n\n  function addNode(direction) {\n    var rect = canvas.createNode('Push' + direction);\n    rect.x = 150 + getRandomInt(-25, 25);\n    rect.y = 200 + getRandomInt(-25, 25);\n\n    canvas.addNode(rect);\n  }\n\n  window.addEventListener('keyup', function (e) {\n    var translate = { 37: 'Left', 38: 'Up', 39: 'Right', 40: 'Down' };\n    var direction = translate[e.keyCode];\n\n    if (direction) {\n      addNode(diretion);\n    }\n  });\n\n  document.getElementById('run').onclick = function () {\n    // pass an empty board to the run\n    canvas.run({ moves: [] }).then(({ context: {moves } }) => {\n      for (let move of moves) game.player.pushMove(move);\n    });\n  };\n\n  document.getElementById('reset').onclick = function () {\n    game.reset();\n  };\n\n  document.getElementById('gameshark').onclick = function () {\n    canvas.loadJSON(flowsJSON[0]);\n  };\n\n  ['Left', 'Up', 'Right', 'Down'].forEach(function (dir) {\n    document.getElementById(dir.toLowerCase()).onclick = function () {\n      addNode(dir);\n    };\n  });\n\n  window.setTimeout(() => {\n    canvas.loadJSON(flowsJSON[0]);\n  }, 0);\n\n  var map = {\n    initialPos: [1, 0],\n    tiled: [\n      \"10100000\",\n      \"00110101\",\n      \"01000101\",\n      \"00101000\",\n      \"10001011\"\n    ]\n  };\n\n  var matargetPort = [\n    \"0000000000\",\n    \"0000000000\",\n    \"0000000000\"\n  ];\n  game.loadMap(50, map, { 0: 'red', 1: 'blue' });\n  game.start();\n\n}\n",locationsMap:{"dumb-box":{startLoc:{col:7,line:51},endLoc:{col:3,line:71},startBody:{col:19,line:51},endBody:{col:3,line:71}}}}}).add("Dumb Box",(function(){return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("p",{children:"Try clicking and deleting some node or connection to break the flow"}),(0,jsx_runtime.jsx)("p",{children:"You can reset and run again at any time"}),(0,jsx_runtime.jsxs)("div",{id:"container",children:[(0,jsx_runtime.jsx)(components.W2,{onLoad}),(0,jsx_runtime.jsxs)("ul",{className:"button-list",children:[(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{id:"run",type:"button",children:"Run"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{id:"reset",type:"button",children:"Reset"})}),(0,jsx_runtime.jsx)("li",{className:"separator"}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{id:"up",type:"button",children:"Up"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{id:"down",type:"button",children:"Down"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{id:"left",type:"button",children:"Left"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{id:"right",type:"button",children:"Right"})}),(0,jsx_runtime.jsx)("li",{className:"separator"}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{id:"gameshark",type:"button",children:"gameshark"})})]})]}),(0,jsx_runtime.jsx)("canvas",{id:"canvas",width:"400",height:"450"})]})}))},5274:(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(5735),__webpack_require__(83753),__webpack_require__(21249),__webpack_require__(32564),__webpack_require__(47042),__webpack_require__(41539),__webpack_require__(68309),__webpack_require__(91038),__webpack_require__(78783),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(32165),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(79753),__webpack_require__(67294);var _storybook_react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3012),_src_react_components__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(75480),_flows_alert_flows_json__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(25651),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(85893);function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}module=__webpack_require__.hmd(module);var getRandom=function getRandom(min,max){return min+Math.random()*(max-min)};(0,_storybook_react__WEBPACK_IMPORTED_MODULE_16__.storiesOf)("Examples",module).addParameters({storySource:{source:"import React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { Container } from '../src/react/components';\nimport alertFlows from './flows/alert-flows.json';\n\nconst getRandom = (min, max) => min + (Math.random() * (max - min));\n\nstoriesOf('Examples', module)\n  .add('Alert', () => (\n    <div id=\"container\">\n      <div id=\"test\">\n        <Container\n          onLoad={canvas => {\n            const initialNodes = ['SourceNumber', 'SourceNumber', 'Alert', 'Operation', 'Operation', 'If', 'SourceString', 'console', 'readQuestion'];\n\n\n            document.getElementById('run').onclick = function() {\n              canvas.run();\n            };\n\n            document.getElementById('clipboard').onclick = function() {\n              const json = canvas.toJSON();\n              navigator.clipboard.writeText(JSON.stringify(json, null, 2));\n            };\n\n            document.getElementById('run').onclick = function() {\n              canvas.run();\n              canvas.toJSON();\n            };\n\n            document.getElementById('random').onclick = function() {\n              randomNodes();\n            }\n\n            function loadExample (id) {\n              canvas.loadJSON(alertFlows[id]);\n            };\n\n            function onLoad (event) {\n              loadExample(event.target.dataset.index);\n            }\n\n            for (let button of document.getElementsByClassName('load')) {\n              button.addEventListener('click', onLoad);\n            }\n\n            function randomNodes () {\n              const nodes = initialNodes.map(nodeName => {\n                const [x, y] = [getRandom(30, 700), getRandom(30, 500)];\n                return canvas.createNode(nodeName, { x, y });\n              });\n              canvas.clearCanvas();\n              canvas.addNodes(nodes);\n            }\n\n            window.setTimeout(() => {\n              loadExample('1');\n            }, 0);\n          }}\n        />\n      </div>\n      <ul className=\"button-list\">\n        <li><button id=\"run\" type=\"button\">run</button></li>\n        <li><button id=\"random\" type=\"button\">random</button></li>\n        <li><button id=\"clipboard\" type=\"button\">clipboard</button></li>\n        <li className=\"separator\"></li>\n        <li><button className=\"load\" type=\"button\" data-index=\"0\">load 1</button></li>\n        <li><button className=\"load\" type=\"button\" data-index=\"1\">load 2</button></li>\n      </ul>\n    </div>\n  ))\n",locationsMap:{alert:{startLoc:{col:7,line:9},endLoc:{col:3,line:71},startBody:{col:16,line:9},endBody:{col:3,line:71}}}}}).add("Alert",(function(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)("div",{id:"container",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("div",{id:"test",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_src_react_components__WEBPACK_IMPORTED_MODULE_17__.W2,{onLoad:function onLoad(canvas){var initialNodes=["SourceNumber","SourceNumber","Alert","Operation","Operation","If","SourceString","console","readQuestion"];function loadExample(id){canvas.loadJSON(_flows_alert_flows_json__WEBPACK_IMPORTED_MODULE_18__[id])}function onLoad(event){loadExample(event.target.dataset.index)}document.getElementById("run").onclick=function(){canvas.run()},document.getElementById("clipboard").onclick=function(){var json=canvas.toJSON();navigator.clipboard.writeText(JSON.stringify(json,null,2))},document.getElementById("run").onclick=function(){canvas.run(),canvas.toJSON()},document.getElementById("random").onclick=function(){!function randomNodes(){var nodes=initialNodes.map((function(nodeName){var _ref=[getRandom(30,700),getRandom(30,500)],x=_ref[0],y=_ref[1];return canvas.createNode(nodeName,{x,y})}));canvas.clearCanvas(),canvas.addNodes(nodes)}()};var _step,_iterator=_createForOfIteratorHelper(document.getElementsByClassName("load"));try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value.addEventListener("click",onLoad)}}catch(err){_iterator.e(err)}finally{_iterator.f()}window.setTimeout((function(){loadExample("1")}),0)}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)("ul",{className:"button-list",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("li",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("button",{id:"run",type:"button",children:"run"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("li",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("button",{id:"random",type:"button",children:"random"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("li",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("button",{id:"clipboard",type:"button",children:"clipboard"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("li",{className:"separator"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("li",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("button",{className:"load",type:"button","data-index":"0",children:"load 1"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("li",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("button",{className:"load",type:"button","data-index":"1",children:"load 2"})})]})]})}))},87719:(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(47042),__webpack_require__(41539),__webpack_require__(68309),__webpack_require__(91038),__webpack_require__(78783),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(32165),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(79753),__webpack_require__(67294);var client=__webpack_require__(3012),components=__webpack_require__(75480);const zoom_flows_namespaceObject=JSON.parse('[[{"refNode":"SourceString","inputs":{},"id":1,"x":5,"y":10,"ports":{"in":[],"out":[[]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceString","inputs":{},"id":2,"x":-95,"y":10,"ports":{"in":[],"out":[[]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceString","inputs":{},"id":3,"x":5,"y":-95,"ports":{"in":[],"out":[[]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceString","inputs":{},"id":4,"x":-95,"y":-95,"ports":{"in":[],"out":[[]],"flow_in":[],"flow_out":[]}}]]');var jsx_runtime=__webpack_require__(85893);function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}module=__webpack_require__.hmd(module);(0,client.storiesOf)("Features",module).addParameters({storySource:{source:'import React from \'react\';\nimport { storiesOf } from \'@storybook/react\';\nimport { Container } from \'../src/react/components\';\nimport zoomFlows from \'./flows/zoom-flows.json\';\n\nstoriesOf(\'Features\', module)\n  .add(\'Zoom In and Out\', () => (\n    <div id="container">\n      <div id="test">\n        <Container\n          onLoad={canvas => {\n            canvas.render.disableDragging = true;\n            canvas.loadJSON(zoomFlows[0]);\n\n            function setZoom (event) {\n              const { value } = event.target.dataset;\n              canvas.render.setZoom(value);\n            };\n\n            for (let button of document.getElementsByClassName(\'zoom\')) {\n              button.addEventListener(\'click\', setZoom);\n            }\n\n            function setReset () {\n              canvas.render.setZoom(1);\n              canvas.render.setCenterPoint([0, 0]);\n            };\n            for (let button of document.getElementsByClassName(\'reset\')) {\n              button.addEventListener(\'click\', setReset);\n            }\n\n            canvas.render.setCenterPoint([0, 0]);\n          }}\n        />\n      </div>\n      <div className="button-list">\n        <ul>\n          <li><button className="zoom" type="button" data-value="0.5">0.5x</button></li>\n          <li><button className="zoom" type="button" data-value="0.7">0.7x</button></li>\n          <li><button className="zoom" type="button" data-value="1">1.0x</button></li>\n          <li><button className="zoom" type="button" data-value="2">2.0x</button></li>\n          <li><button className="zoom" type="button" data-value="3">3.0x</button></li>\n          <li><button className="zoom" type="button" data-value="4">4.0x</button></li>\n        </ul>\n        <ul>\n          <li><button className="reset" type="button" data-value="4">Reset</button></li>\n        </ul>\n      </div>\n    </div>\n  ))\n  .add(\'Center position\', () => (\n    <div id="container">\n      <div id="test">\n        <Container\n          onLoad={canvas => {\n            canvas.render.disableDragging = true;\n            canvas.loadJSON(zoomFlows[0]);\n\n            function setCenter (event) {\n              const { value } = event.target.dataset;\n              canvas.render.setCenterPoint(canvas.render._p.parse(value));\n            };\n            for (let button of document.getElementsByClassName(\'center\')) {\n              button.addEventListener(\'click\', setCenter);\n            }\n            function setReset () {\n              canvas.render.setZoom(1);\n              canvas.render.setCenterPoint([0, 0]);\n            };\n            for (let button of document.getElementsByClassName(\'reset\')) {\n              button.addEventListener(\'click\', setReset);\n            }\n\n            canvas.render.setCenterPoint([0, 0]);\n          }}\n        />\n      </div>\n      <div className="button-list">\n        <ul>\n          <li><button className="center" type="button" data-value="[0, 0]">[0, 0]</button></li>\n          <li><button className="center" type="button" data-value="[100, -100]">[100, -100]</button></li>\n          <li><button className="center" type="button" data-value="[-100, -100]">[-100, -100]</button></li>\n          <li><button className="center" type="button" data-value="[-100, 100]">[-100, 100]</button></li>\n          <li><button className="center" type="button" data-value="[100, 100]">[100, 100]</button></li>\n        </ul>\n        <ul>\n          <li><button className="reset" type="button" data-value="4">Reset</button></li>\n        </ul>\n      </div>\n    </div>\n  ))\n',locationsMap:{"center-position":{startLoc:{col:7,line:51},endLoc:{col:3,line:91},startBody:{col:26,line:51},endBody:{col:3,line:91}},"zoom-in-and-out":{startLoc:{col:7,line:7},endLoc:{col:3,line:50},startBody:{col:26,line:7},endBody:{col:3,line:50}}}}}).add("Zoom In and Out",(function(){return(0,jsx_runtime.jsxs)("div",{id:"container",children:[(0,jsx_runtime.jsx)("div",{id:"test",children:(0,jsx_runtime.jsx)(components.W2,{onLoad:function onLoad(canvas){function setZoom(event){var value=event.target.dataset.value;canvas.render.setZoom(value)}canvas.render.disableDragging=!0,canvas.loadJSON(zoom_flows_namespaceObject[0]);var _step,_iterator=_createForOfIteratorHelper(document.getElementsByClassName("zoom"));try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value.addEventListener("click",setZoom)}}catch(err){_iterator.e(err)}finally{_iterator.f()}function setReset(){canvas.render.setZoom(1),canvas.render.setCenterPoint([0,0])}var _step2,_iterator2=_createForOfIteratorHelper(document.getElementsByClassName("reset"));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){_step2.value.addEventListener("click",setReset)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}canvas.render.setCenterPoint([0,0])}})}),(0,jsx_runtime.jsxs)("div",{className:"button-list",children:[(0,jsx_runtime.jsxs)("ul",{children:[(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"zoom",type:"button","data-value":"0.5",children:"0.5x"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"zoom",type:"button","data-value":"0.7",children:"0.7x"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"zoom",type:"button","data-value":"1",children:"1.0x"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"zoom",type:"button","data-value":"2",children:"2.0x"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"zoom",type:"button","data-value":"3",children:"3.0x"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"zoom",type:"button","data-value":"4",children:"4.0x"})})]}),(0,jsx_runtime.jsx)("ul",{children:(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"reset",type:"button","data-value":"4",children:"Reset"})})})]})]})})).add("Center position",(function(){return(0,jsx_runtime.jsxs)("div",{id:"container",children:[(0,jsx_runtime.jsx)("div",{id:"test",children:(0,jsx_runtime.jsx)(components.W2,{onLoad:function onLoad(canvas){function setCenter(event){var value=event.target.dataset.value;canvas.render.setCenterPoint(canvas.render._p.parse(value))}canvas.render.disableDragging=!0,canvas.loadJSON(zoom_flows_namespaceObject[0]);var _step3,_iterator3=_createForOfIteratorHelper(document.getElementsByClassName("center"));try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){_step3.value.addEventListener("click",setCenter)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}function setReset(){canvas.render.setZoom(1),canvas.render.setCenterPoint([0,0])}var _step4,_iterator4=_createForOfIteratorHelper(document.getElementsByClassName("reset"));try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){_step4.value.addEventListener("click",setReset)}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}canvas.render.setCenterPoint([0,0])}})}),(0,jsx_runtime.jsxs)("div",{className:"button-list",children:[(0,jsx_runtime.jsxs)("ul",{children:[(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"center",type:"button","data-value":"[0, 0]",children:"[0, 0]"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"center",type:"button","data-value":"[100, -100]",children:"[100, -100]"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"center",type:"button","data-value":"[-100, -100]",children:"[-100, -100]"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"center",type:"button","data-value":"[-100, 100]",children:"[-100, 100]"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"center",type:"button","data-value":"[100, 100]",children:"[100, 100]"})})]}),(0,jsx_runtime.jsx)("ul",{children:(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"reset",type:"button","data-value":"4",children:"Reset"})})})]})]})}))},10328:(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(88674),__webpack_require__(41539),__webpack_require__(35837),__webpack_require__(89554),__webpack_require__(54747),__webpack_require__(47941),__webpack_require__(5735),__webpack_require__(83753),__webpack_require__(21249),__webpack_require__(32564),__webpack_require__(47042),__webpack_require__(68309),__webpack_require__(91038),__webpack_require__(78783),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(32165),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(79753),__webpack_require__(67294);var client=__webpack_require__(3012),components=__webpack_require__(75480);const firmata_flows_namespaceObject=JSON.parse('[[{"refNode":"start","inputs":{},"id":1,"x":30,"y":30,"ports":{"in":[],"out":[],"flow_in":[[]],"flow_out":[[{"nodeId":10,"id":0}]]}},{"refNode":"SourceNumber","inputs":{"number":13},"id":3,"x":69.66259527132819,"y":237.55944438615202,"ports":{"in":[],"out":[[{"nodeId":10,"id":0},{"nodeId":9,"id":0}]],"flow_in":[],"flow_out":[]}},{"refNode":"digitalWrite","inputs":{"value":"false"},"id":9,"x":495.0688896108619,"y":190.49032114163774,"ports":{"in":[[{"nodeId":3,"id":0}],[]],"out":[],"flow_in":[[{"nodeId":11,"id":0}]],"flow_out":[[]]}},{"refNode":"digitalWrite","inputs":{"value":"true"},"id":10,"x":208.19482012485378,"y":89.44039299595211,"ports":{"in":[[{"nodeId":3,"id":0}],[]],"out":[],"flow_in":[[{"nodeId":1,"id":0}]],"flow_out":[[{"nodeId":11,"id":0}]]}},{"refNode":"delay","inputs":{"value":1000},"id":11,"x":354.2210527259326,"y":94.02022605367182,"ports":{"in":[],"out":[],"flow_in":[[{"nodeId":10,"id":0}]],"flow_out":[[{"nodeId":9,"id":0}]]}}],[{"refNode":"start","inputs":{},"id":1,"x":30,"y":30,"ports":{"in":[],"out":[],"flow_in":[],"flow_out":[]}},{"refNode":"digitalWrite","inputs":{"port":13,"value":"true"},"id":8,"x":137.37823442104184,"y":67.46279911339586,"ports":{"in":[[],[]],"out":[],"flow_in":[[{"nodeId":1,"id":0}]],"flow_out":[[{"nodeId":11,"id":0}]]}},{"refNode":"digitalWrite","inputs":{"port":13,"value":"false"},"id":9,"x":462.0324373152004,"y":112.8515335074182,"ports":{"in":[[],[]],"out":[],"flow_in":[[{"nodeId":11,"id":0}]],"flow_out":[[{"nodeId":10,"id":0}]]}},{"refNode":"delay","inputs":{"value":1000},"id":10,"x":181.47800097492382,"y":260.99541591751097,"ports":{"in":[],"out":[],"flow_in":[[{"nodeId":9,"id":0}]],"flow_out":[[{"nodeId":1,"id":0}]]}},{"refNode":"delay","inputs":{"value":1000},"id":11,"x":316.07422008044335,"y":87.20617350557933,"ports":{"in":[],"out":[],"flow_in":[[{"nodeId":8,"id":0}]],"flow_out":[[{"nodeId":9,"id":0}]]}}],[{"refNode":"start","inputs":{},"id":1,"x":41,"y":31,"ports":{"in":[],"out":[],"flow_in":[[{"nodeId":11,"id":0}]],"flow_out":[[{"nodeId":4,"id":0}]]}},{"refNode":"SourceNumber","inputs":{},"id":2,"x":437.8959613195742,"y":395.15078529764696,"ports":{"in":[],"out":[[]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceNumber","inputs":{},"id":3,"x":470.7632488659997,"y":287.94602546656836,"ports":{"in":[],"out":[[]],"flow_in":[],"flow_out":[]}},{"refNode":"Alert","inputs":{},"id":4,"x":165.10681762710274,"y":51.894124859821176,"ports":{"in":[[{"nodeId":12,"id":0}]],"out":[],"flow_in":[[{"nodeId":1,"id":0}]],"flow_out":[[{"nodeId":11,"id":0}]]}},{"refNode":"Operation","inputs":{},"id":5,"x":609.257809319125,"y":358.6535530338666,"ports":{"in":[[],[]],"out":[[]],"flow_in":[],"flow_out":[]}},{"refNode":"If","inputs":{},"id":6,"x":102.91295121546372,"y":398.3743287277031,"ports":{"in":[[]],"out":[],"flow_in":[[]],"flow_out":[[],[]]}},{"refNode":"analogRead","inputs":{},"id":7,"x":189.48169219975506,"y":447.81764852017386,"ports":{"in":[[]],"out":[[]],"flow_in":[[]],"flow_out":[[]]}},{"refNode":"digitalWrite","inputs":{},"id":8,"x":502.8916534581176,"y":207.47543390759196,"ports":{"in":[[],[]],"out":[],"flow_in":[[]],"flow_out":[[]]}},{"refNode":"digitalWrite","inputs":{},"id":9,"x":9.986068198548011,"y":415.15029342973736,"ports":{"in":[[],[]],"out":[],"flow_in":[[]],"flow_out":[[]]}},{"refNode":"delay","inputs":{},"id":10,"x":388.33401629182237,"y":42.95611797652701,"ports":{"in":[],"out":[],"flow_in":[[]],"flow_out":[[]]}},{"refNode":"delay","inputs":{"value":1000},"id":11,"x":229.36228152118088,"y":214.2909025710835,"ports":{"in":[],"out":[],"flow_in":[[{"nodeId":4,"id":0}]],"flow_out":[[{"nodeId":1,"id":0}]]}},{"refNode":"analogRead","inputs":{"port":1},"id":12,"x":47.85614826780835,"y":192.6943211594461,"ports":{"in":[[]],"out":[[{"nodeId":4,"id":0}]],"flow_in":[[]],"flow_out":[[]]}}],[{"refNode":"start","inputs":{},"id":1,"x":41,"y":31,"ports":{"in":[],"out":[],"flow_in":[[]],"flow_out":[[{"nodeId":6,"id":0}]]}},{"refNode":"SourceNumber","inputs":{},"id":2,"x":483.8959613195742,"y":519.150785297647,"ports":{"in":[],"out":[[]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceNumber","inputs":{"number":300},"id":3,"x":126.76324886599969,"y":249.94602546656836,"ports":{"in":[],"out":[[{"nodeId":5,"id":1}]],"flow_in":[],"flow_out":[]}},{"refNode":"Alert","inputs":{},"id":4,"x":184.10681762710274,"y":485.8941248598212,"ports":{"in":[[]],"out":[],"flow_in":[[]],"flow_out":[[]]}},{"refNode":"Operation","inputs":{"op":">="},"id":5,"x":78.25780931912504,"y":139.65355303386661,"ports":{"in":[[{"nodeId":12,"id":0}],[{"nodeId":3,"id":0}]],"out":[[{"nodeId":6,"id":0}]],"flow_in":[],"flow_out":[]}},{"refNode":"If","inputs":{},"id":6,"x":187.91295121546375,"y":31.374328727703073,"ports":{"in":[[{"nodeId":5,"id":0}]],"out":[],"flow_in":[[{"nodeId":1,"id":0}]],"flow_out":[[{"nodeId":9,"id":0}],[{"nodeId":8,"id":0}]]}},{"refNode":"analogRead","inputs":{},"id":7,"x":311.48169219975506,"y":504.81764852017386,"ports":{"in":[[]],"out":[[]],"flow_in":[],"flow_out":[]}},{"refNode":"digitalWrite","inputs":{"port":13,"value":"false"},"id":8,"x":349.8916534581176,"y":175.475433907592,"ports":{"in":[[],[]],"out":[],"flow_in":[[{"nodeId":6,"id":1}]],"flow_out":[[]]}},{"refNode":"digitalWrite","inputs":{"port":13,"value":"true"},"id":9,"x":360.986068198548,"y":25.15029342973736,"ports":{"in":[[],[]],"out":[],"flow_in":[[{"nodeId":6,"id":0}]],"flow_out":[[]]}},{"refNode":"delay","inputs":{},"id":10,"x":400.3340162918223,"y":384.956117976527,"ports":{"in":[],"out":[],"flow_in":[[]],"flow_out":[[]]}},{"refNode":"delay","inputs":{"value":1000},"id":11,"x":530.3622815211809,"y":386.2909025710835,"ports":{"in":[],"out":[],"flow_in":[[]],"flow_out":[[]]}},{"refNode":"analogRead","inputs":{"port":1},"id":12,"x":-15.14385173219165,"y":279.6943211594461,"ports":{"in":[[]],"out":[[{"nodeId":5,"id":0}]],"flow_in":[],"flow_out":[]}}],[{"refNode":"start","inputs":{},"id":1,"x":179,"y":63,"ports":{"in":[],"out":[],"flow_in":[[{"nodeId":11,"id":0}]],"flow_out":[[{"nodeId":8,"id":0}]]}},{"refNode":"SourceNumber","inputs":{"number":300},"id":3,"x":116.76324886599969,"y":408.94602546656836,"ports":{"in":[],"out":[[{"nodeId":5,"id":1}]],"flow_in":[],"flow_out":[]}},{"refNode":"Operation","inputs":{"op":">="},"id":5,"x":221.25780931912504,"y":257.6535530338666,"ports":{"in":[[{"nodeId":12,"id":0}],[{"nodeId":3,"id":0}]],"out":[[{"nodeId":8,"id":1}]],"flow_in":[],"flow_out":[]}},{"refNode":"digitalWrite","inputs":{"port":13,"value":"false"},"id":8,"x":353.8916534581176,"y":76.47543390759199,"ports":{"in":[[],[{"nodeId":5,"id":0}]],"out":[],"flow_in":[[{"nodeId":1,"id":0}]],"flow_out":[[{"nodeId":11,"id":0}]]}},{"refNode":"delay","inputs":{"value":100},"id":11,"x":444.3622815211809,"y":279.2909025710835,"ports":{"in":[],"out":[],"flow_in":[[{"nodeId":8,"id":0}]],"flow_out":[[{"nodeId":1,"id":0}]]}},{"refNode":"analogRead","inputs":{"port":1},"id":12,"x":69.85614826780835,"y":271.6943211594461,"ports":{"in":[[]],"out":[[{"nodeId":5,"id":0}]],"flow_in":[],"flow_out":[]}}]]');var jsx_runtime=__webpack_require__(85893);function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}module=__webpack_require__.hmd(module);var _behavior2,_behavior,Firmata=__webpack_require__(90010).Firmata,SerialPort=__webpack_require__(77574),getRandom=function getRandom(min,max){return min+Math.random()*(max-min)},nodeConfig={digitalWrite:{fill:"#F5E867",ports:{data_in:2,data_out:0,flow_in:1,flow_out:1},title:"digitalWrite",gui:{port:{label:"port",type:"number"},value:{label:"value",type:"select",options:[!0,!1]}},behavior:(_behavior=_asyncToGenerator(regeneratorRuntime.mark((function _callee(findById,_ref){var board,port,portConn,portNode,value,valueConn,valueNode;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(board=_ref.board,port=this.inputs.port,portConn=this._ports.in[0].connections[0],(portNode=portConn&&findById(portConn.nodeId))&&(port=portNode.behavior(findById)[portConn.id]),value=JSON.parse(this.inputs.value),valueConn=this._ports.in[1].connections[0],!(valueNode=valueConn&&findById(valueConn.nodeId))){_context.next=13;break}return _context.next=11,valueNode.behavior(findById,{board});case 11:_context.t0=valueConn.id,value=_context.sent[_context.t0];case 13:return board.digitalWrite(port,value),_context.abrupt("return",0);case 15:case"end":return _context.stop()}}),_callee,this)}))),function behavior(_x,_x2){return _behavior.apply(this,arguments)})},analogRead:{fill:"#FF8D4F",ports:{data_in:1,data_out:1,flow_in:0,flow_out:0},title:"analogRead",gui:{port:{label:"port",type:"number"}},behavior:(_behavior2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(findById,_ref2){var board,port;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return board=_ref2.board,port=this.inputs.port,board.reportAnalogPin(port,1),_context2.abrupt("return",new Promise((function(resolve){var value=board.pins[board.analogPins[port]].value;console.log("analogRead",value),resolve([value])})));case 4:case"end":return _context2.stop()}}),_callee2,this)}))),function behavior(_x3,_x4){return _behavior2.apply(this,arguments)})}};(0,client.storiesOf)("Examples",module).addParameters({storySource:{source:"import React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { Container } from '../src/react/components';\nimport firmataFlows from './flows/firmata-flows.json';\nconst Firmata = require('firmata-io').Firmata;\nconst SerialPort = require('./browser-serialport');\n\nconst getRandom = (min, max) => min + (Math.random() * (max - min));\n\nconst nodeConfig = {\n  'digitalWrite': {\n    fill: '#F5E867',\n    ports: { data_in: 2, data_out: 0, flow_in: 1, flow_out: 1 },\n    title: 'digitalWrite',\n    gui: {\n      port: { label: 'port', type: 'number' },\n      value: { label: 'value', type: 'select', options: [true, false] },\n    },\n    async behavior (findById, { board }) {\n      let port = this.inputs.port;\n      const portConn = this._ports['in'][0].connections[0];\n      const portNode = portConn && findById(portConn.nodeId);\n      if (portNode) {\n        port = portNode.behavior(findById)[portConn.id];\n      }\n\n      let value = JSON.parse(this.inputs.value);\n      const valueConn = this._ports['in'][1].connections[0];\n      const valueNode = valueConn && findById(valueConn.nodeId);\n      if (valueNode) {\n        value = (await valueNode.behavior(findById, { board }))[valueConn.id];\n      }\n\n      board.digitalWrite(port, value)\n      return 0;\n    }\n  },\n  'analogRead': {\n    fill: '#FF8D4F',\n    ports: { data_in: 1, data_out: 1, flow_in: 0, flow_out: 0 },\n    title: 'analogRead',\n    gui: {\n      port: { label: 'port', type: 'number' },\n    },\n    async behavior (findById, { board }) {\n      let port = this.inputs.port;\n      // const portConn = this._ports['in'][0].connections[0];\n      // const portNode = findById(portConn.nodeId);\n      // if (portNode) {\n      //   port = portNode.behavior(findById)[portConn.id];\n      // }\n\n      board.reportAnalogPin(port, 1)\n      return new Promise(resolve => {\n        const value = board.pins[board.analogPins[port]].value\n        console.log('analogRead', value)\n        resolve([value])\n        // board.analogRead(port, value => {\n        //   console.log('analogRead', value)\n        //   board.reportAnalogPin(port, 0)\n        //   resolve([value])\n        // })\n      })\n    }\n  },\n};\n\nstoriesOf('Examples', module)\n  .add('Firmata', () => (\n    <div id=\"container\">\n      <div id=\"test\">\n        <div id=\"status\"></div>\n        <Container\n          onLoad={canvas => {\n            const initialNodes = ['SourceNumber', 'SourceNumber', 'Alert', 'Operation', 'If', 'analogRead', 'digitalWrite', 'digitalWrite', 'delay', 'delay', 'analogRead'];\n            let board\n            globalThis.canvas = canvas\n            Object.keys(nodeConfig).forEach(key => canvas.registerNode(key, nodeConfig[key]));\n\n            document.getElementById('setup').onclick = function() {\n              if (!board) board = new Firmata(new SerialPort(\"/dev/ttyACM0\", { baudRate: 57600, autoOpen: true }));\n\n              board.on(\"ready\", () => {\n                // Arduino is ready to communicate\n                console.log('ready')\n                document.getElementById('run').removeAttribute('disabled')\n                // setInterval(() => {\n                //   pinValue = !pinValue\n                //   board.digitalWrite(13, pinValue)\n                //   document.querySelector('#status').innerHTML = pinValue.toString()\n                // }, 1000)\n              });\n            }\n\n            document.getElementById('run').onclick = function() {\n              canvas.run({ board });\n            };\n\n            document.getElementById('export').onclick = function() {\n              const json = canvas.toJSON();\n              navigator.clipboard.writeText(JSON.stringify(json, null, 2));\n            };\n\n            document.getElementById('random').onclick = function() {\n              randomNodes();\n            }\n\n            function loadExample (id) {\n              canvas.loadJSON(firmataFlows[id]);\n            };\n\n            function onLoad (event) {\n              loadExample(event.target.dataset.index);\n            }\n\n            for (let button of document.getElementsByClassName('load')) {\n              button.addEventListener('click', onLoad);\n            }\n\n            function randomNodes () {\n              const nodes = initialNodes.map(nodeName => {\n                const [x, y] = [getRandom(30, 500), getRandom(30, 300)];\n                return canvas.createNode(nodeName, { x, y });\n              });\n              canvas.clearCanvas();\n              canvas.addNodes(nodes);\n            }\n\n            window.setTimeout(() => {\n              // loadExample('0');\n            }, 0);\n          }}\n        />\n      </div>\n      <ul className=\"button-list\">\n        <li><button id=\"setup\" type=\"button\">setup</button></li>\n        <li><button id=\"run\" type=\"button\" disabled>run</button></li>\n        <li><button id=\"random\" type=\"button\">random</button></li>\n        <li><button id=\"export\" type=\"export\">export</button></li>\n        <li className=\"separator\"></li>\n        <li><button className=\"load\" type=\"button\" data-index=\"0\">load 1</button></li>\n        <li><button className=\"load\" type=\"button\" data-index=\"1\">load 2</button></li>\n        <li><button className=\"load\" type=\"button\" data-index=\"2\">load 3</button></li>\n        <li><button className=\"load\" type=\"button\" data-index=\"3\">load 4</button></li>\n        <li><button className=\"load\" type=\"button\" data-index=\"3\">load 4</button></li>\n        <li><button className=\"load\" type=\"button\" data-index=\"4\">load 5</button></li>\n      </ul>\n    </div>\n  ))\n",locationsMap:{firmata:{startLoc:{col:7,line:69},endLoc:{col:3,line:149},startBody:{col:18,line:69},endBody:{col:3,line:149}}}}}).add("Firmata",(function(){return(0,jsx_runtime.jsxs)("div",{id:"container",children:[(0,jsx_runtime.jsxs)("div",{id:"test",children:[(0,jsx_runtime.jsx)("div",{id:"status"}),(0,jsx_runtime.jsx)(components.W2,{onLoad:function onLoad(canvas){var board,initialNodes=["SourceNumber","SourceNumber","Alert","Operation","If","analogRead","digitalWrite","digitalWrite","delay","delay","analogRead"];function onLoad(event){!function loadExample(id){canvas.loadJSON(firmata_flows_namespaceObject[id])}(event.target.dataset.index)}globalThis.canvas=canvas,Object.keys(nodeConfig).forEach((function(key){return canvas.registerNode(key,nodeConfig[key])})),document.getElementById("setup").onclick=function(){board||(board=new Firmata(new SerialPort("/dev/ttyACM0",{baudRate:57600,autoOpen:!0}))),board.on("ready",(function(){console.log("ready"),document.getElementById("run").removeAttribute("disabled")}))},document.getElementById("run").onclick=function(){canvas.run({board})},document.getElementById("export").onclick=function(){var json=canvas.toJSON();navigator.clipboard.writeText(JSON.stringify(json,null,2))},document.getElementById("random").onclick=function(){!function randomNodes(){var nodes=initialNodes.map((function(nodeName){var _ref3=[getRandom(30,500),getRandom(30,300)],x=_ref3[0],y=_ref3[1];return canvas.createNode(nodeName,{x,y})}));canvas.clearCanvas(),canvas.addNodes(nodes)}()};var _step,_iterator=_createForOfIteratorHelper(document.getElementsByClassName("load"));try{for(_iterator.s();!(_step=_iterator.n()).done;){_step.value.addEventListener("click",onLoad)}}catch(err){_iterator.e(err)}finally{_iterator.f()}window.setTimeout((function(){}),0)}})]}),(0,jsx_runtime.jsxs)("ul",{className:"button-list",children:[(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{id:"setup",type:"button",children:"setup"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{id:"run",type:"button",disabled:!0,children:"run"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{id:"random",type:"button",children:"random"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{id:"export",type:"export",children:"export"})}),(0,jsx_runtime.jsx)("li",{className:"separator"}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"load",type:"button","data-index":"0",children:"load 1"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"load",type:"button","data-index":"1",children:"load 2"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"load",type:"button","data-index":"2",children:"load 3"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"load",type:"button","data-index":"3",children:"load 4"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"load",type:"button","data-index":"3",children:"load 4"})}),(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)("button",{className:"load",type:"button","data-index":"4",children:"load 5"})})]})]})}))},86521:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_ja0n_Projects_wirer_node_modules_core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(88674),_home_ja0n_Projects_wirer_node_modules_core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_ja0n_Projects_wirer_node_modules_core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_0__),_home_ja0n_Projects_wirer_node_modules_core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(41539),_home_ja0n_Projects_wirer_node_modules_core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_ja0n_Projects_wirer_node_modules_core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__),_home_ja0n_Projects_wirer_node_modules_core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(32564),_home_ja0n_Projects_wirer_node_modules_core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_home_ja0n_Projects_wirer_node_modules_core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_2__);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var nodes={start:{id:"start",width:35,height:60,rx:10,ry:10,fill:"#AF2B37",ports:{data_in:0,data_out:0,flow_in:1,flow_out:1},title:"Start",icon:"img/icon.png",behavior:function behavior(){return 0}},delay:{id:"delay",fill:"#FF8D4F",title:"delay",ports:{data_in:0,data_out:0,flow_in:1,flow_out:1},gui:{value:{label:"value (ms)",type:"number"}},behavior:(_behavior=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _this=this;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",new Promise((function(resolve){return setTimeout((function(){return resolve(0)}),_this.inputs.value)})));case 1:case"end":return _context.stop()}}),_callee)}))),function behavior(){return _behavior.apply(this,arguments)})},SourceNumber:{id:"SourceNumber",fill:"#cfec2f",ports:{data_in:0,data_out:1,flow_in:0,flow_out:0},title:"Number",gui:{number:{label:"Number",type:"number"}},behavior:function behavior(){return[this.inputs.number]}},SourceString:{id:"SourceString",fill:"#cfec2f",ports:{data_in:0,data_out:1,flow_in:0,flow_out:0},title:"String",gui:{text:{label:"Text",type:"text"}},behavior:function behavior(){return[this.inputs.text]}},Operation:{id:"Operation",fill:"#cfec2f",ports:{data_in:2,data_out:1,flow_in:0,flow_out:0},title:"Operation",gui:{op:{label:"Operation",type:"select",options:["==","!=","===","!==",">",">=","<","<=","+","-","*","/"]}},behavior:function(){var _behavior2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(findById,context){var conn1,conn2,node1,node2,val1,val2;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return conn1=this._ports.in[0].connections[0],conn2=this._ports.in[1].connections[0],node1=findById(conn1.nodeId),node2=findById(conn2.nodeId),_context2.next=6,node1.getValue(findById,context,conn1.id);case 6:return val1=_context2.sent,_context2.next=9,node2.getValue(findById,context,conn2.id);case 9:return val2=_context2.sent,_context2.abrupt("return",[eval(JSON.stringify(val1)+" "+this.inputs.op+" "+JSON.stringify(val2))]);case 11:case"end":return _context2.stop()}}),_callee2,this)})));function behavior(_x,_x2){return _behavior2.apply(this,arguments)}return behavior}()},Alert:{id:"Alert",fill:"#EC962F",ports:{data_in:1,data_out:0,flow_in:1,flow_out:1},title:"Alert",behavior:(_behavior3=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(findById,context){var conn,node,value;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return conn=this._ports.in[0].connections[0],node=findById(conn.nodeId),_context3.next=4,node.getValue(findById,context,conn.id);case 4:return value=_context3.sent,alert(value),_context3.abrupt("return",0);case 7:case"end":return _context3.stop()}}),_callee3,this)}))),function behavior(_x3,_x4){return _behavior3.apply(this,arguments)})},If:{id:"If",fill:"#EC962F",ports:{data_in:1,data_out:0,flow_in:1,flow_out:2},title:"If",behavior:(_behavior4=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(findById,context){var conn,node,value;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return conn=this._ports.in[0].connections[0],node=findById(conn.nodeId),_context4.next=4,node.getValue(findById,context,conn.id);case 4:return value=_context4.sent,_context4.abrupt("return",value?0:1);case 6:case"end":return _context4.stop()}}),_callee4,this)}))),function behavior(_x5,_x6){return _behavior4.apply(this,arguments)})}},_behavior4,_behavior3,_behavior;const __WEBPACK_DEFAULT_EXPORT__=nodes},75480:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T4:()=>components_Connections,W2:()=>Container,VJ:()=>components_NodeList,I7:()=>components_SplitSection});__webpack_require__(92222),__webpack_require__(19601),__webpack_require__(68304),__webpack_require__(30489),__webpack_require__(12419),__webpack_require__(78011),__webpack_require__(69070);var react=__webpack_require__(67294),isNil=(__webpack_require__(41539),__webpack_require__(39714),__webpack_require__(83710),__webpack_require__(82772),__webpack_require__(40561),__webpack_require__(89554),__webpack_require__(54747),__webpack_require__(69826),__webpack_require__(5735),__webpack_require__(83753),__webpack_require__(88674),__webpack_require__(47042),__webpack_require__(68309),__webpack_require__(91038),__webpack_require__(78783),__webpack_require__(82526),__webpack_require__(41817),__webpack_require__(32165),__webpack_require__(66992),__webpack_require__(33948),__webpack_require__(79753),__webpack_require__(14293)),isNil_default=__webpack_require__.n(isNil),set=(__webpack_require__(69600),__webpack_require__(24812),__webpack_require__(57327),__webpack_require__(26699),__webpack_require__(32023),__webpack_require__(36968)),set_default=__webpack_require__.n(set),forEach=__webpack_require__(84486),forEach_default=__webpack_require__.n(forEach),findIndex=__webpack_require__(30998),findIndex_default=__webpack_require__.n(findIndex),times=__webpack_require__(98913),times_default=__webpack_require__.n(times);__webpack_require__(34553);function getParentSvg(el){return null!=el&&el.parentNode?"svg"===el.parentNode.nodeName?el.parentNode:getParentSvg(el.parentNode):null}function spliceByIndex(arr,obj){var index=arr.indexOf(obj);return safeSplice(arr,index)}function safeSplice(arr,index){return-1!=index&&(arr.splice(index,1),!0)}__webpack_require__(85827);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var castPoint=function castPoint(value){if(Array.isArray(value)){var _value=_slicedToArray(value,2);return{x:_value[0],y:_value[1]}}return"object"==typeof value?{x:value.x,y:value.y}:{x:value,y:value}},multiplyPoints=function multiplyPoints(){for(var _len3=arguments.length,points=new Array(_len3),_key3=0;_key3<_len3;_key3++)points[_key3]=arguments[_key3];return points.reduce((function(result,value){var point=castPoint(value);return result?(result.x*=point.x,result.y*=point.y,result):Object.assign({},point)}),null)},_p_clamp=function clamp(min,num,max){return Math.min(Math.max(min,num),max)},_p_add=function sumPoints(){for(var _len=arguments.length,points=new Array(_len),_key=0;_key<_len;_key++)points[_key]=arguments[_key];return points.reduce((function(result,value){var point=castPoint(value);return result?(result.x+=point.x,result.y+=point.y,result):Object.assign({},point)}),null)},_p_subtract=function minusPoints(){for(var _len2=arguments.length,points=new Array(_len2),_key2=0;_key2<_len2;_key2++)points[_key2]=arguments[_key2];return points.reduce((function(result,value){var point=castPoint(value);return result?(result.x-=point.x,result.y-=point.y,result):Object.assign({},point)}),null)},_p_multiply=multiplyPoints,_p_divide=function dividePoints(){for(var _len4=arguments.length,points=new Array(_len4),_key4=0;_key4<_len4;_key4++)points[_key4]=arguments[_key4];return points.reduce((function(result,value){var point=castPoint(value);return result?(result.x/=point.x,result.y/=point.y,result):Object.assign({},point)}),null)};function Port_slicedToArray(arr,i){return function Port_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Port_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Port_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Port_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Port_arrayLikeToArray(o,minLen)}(arr,i)||function Port_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Port_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var directionTypes=["in","out"],portTypes=["data","flow"],makeFinder=function makeFinder(node,port){return function(_ref){var nodeId=_ref.nodeId,id=_ref.id;return nodeId===node&&id===port}},Port=function(){function Port(_ref2){var id=_ref2.id,type=_ref2.type,direction=_ref2.direction,node=_ref2.node,ref=_ref2.ref;if(function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Port),this.id=void 0,this._el=void 0,this.direction=void 0,this.type=void 0,this.connections=void 0,this.maxConnections=1,this.node=void 0,this.color=void 0,!directionTypes.includes(direction))throw"port direction must be 'in' or 'out'";if(!portTypes.includes(type))throw"type must be 'data' or 'flow'";Object.assign(this,{id,type,direction,node}),Object.assign(this,{connections:[]}),ref&&this.setupInstance(ref)}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Port,[{key:"setupInstance",value:function setupInstance(ref){this._el=ref,ref&&Object.assign(this._el,{wrapper:this,type:"port",direction:this.direction})}},{key:"getBBoxes",value:function getBBoxes(){if(!this._el)return[new DOMRect,new DOMRect];var portSVG=getParentSvg(this._el),nodeSVG=this.node._el;return[portSVG.getBoundingClientRect(),nodeSVG.getBoundingClientRect()]}},{key:"attr",value:function attr(key,value){return value?this._el.setAttribute(key,value):this._el.getAttribute(key)}},{key:"getPoint",value:function getPoint(){var offset=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},zoom=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return _p_add(_p_multiply(this.node,zoom),_p_multiply(offset,zoom),this)}},{key:"isCompatible",value:function isCompatible(to){return this.type===to.type&&this.direction!==to.direction}},{key:"canAttach",value:function canAttach(to){return this.isCompatible(to)&&this.available&&to.available}},{key:"hasConnection",value:function hasConnection(to){return this.connections.find(makeFinder(to.node._id,to.id))}},{key:"pushConnection",value:function pushConnection(to){this.connections.push({nodeId:to.node._id,id:to.id})}},{key:"attach",value:function attach(to){return!this.hasConnection(to)&&(!!this.canAttach(to)&&(this.pushConnection(to),to.pushConnection(this),this.node.onAttach({from:this,to}),to.node.onAttach({from:this,to}),console.debug("Port attaching",{from:this,to}),!0))}},{key:"dettach",value:function dettach(from){if(!this.isCompatible(from))return!1;var index=this.connections.findIndex(makeFinder(from.node._id,from.id)),fromIndex=from.connections.findIndex(makeFinder(this.node._id,this.id));return safeSplice(this.connections,index),safeSplice(from.connections,fromIndex),-1!==index||-1!==fromIndex}},{key:"position",get:function get(){var _this$getBBoxes2=Port_slicedToArray(this.getBBoxes(),2),portBBox=_this$getBBoxes2[0],nodeBBox=_this$getBBoxes2[1];return[portBBox.x-nodeBBox.x+portBBox.width/2,portBBox.y-nodeBBox.y+portBBox.height/2]}},{key:"x",get:function get(){return this.position[0]}},{key:"y",get:function get(){return this.position[1]}},{key:"available",get:function get(){return null===this.maxConnections||this.connections.length<this.maxConnections}}]),Port}();function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function ports_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!=typeof call&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var DataPort=function(_Port){_inherits(DataPort,_Port);var _super=_createSuper(DataPort);function DataPort(_ref){var _this,args=_extends({},_ref);ports_classCallCheck(this,DataPort),(_this=_super.call(this,Object.assign({},args,{type:"data"}))).color="#B8D430","out"==_this.direction&&(_this.maxConnections=null);return _this}return DataPort}(Port),FlowPort=function(_Port2){_inherits(FlowPort,_Port2);var _super2=_createSuper(FlowPort);function FlowPort(_ref2){var _this2,args=_extends({},_ref2);ports_classCallCheck(this,FlowPort),(_this2=_super2.call(this,Object.assign({},args,{type:"flow"}))).color="#2549e4",_this2.maxConnections=1;return _this2}return FlowPort}(Port);__webpack_require__(43290),__webpack_require__(47941),__webpack_require__(69720),__webpack_require__(9653);var SVGContainer=function SVGContainer(wrapper){var svg=function dom_createElement(name,attrs){var el=document.createElementNS("http://www.w3.org/2000/svg",name);for(var key in attrs)el.setAttribute(key,attrs[key]);return el}("svg");return svg.wrapper=wrapper,svg.type="node",svg.style.overflow="visible",svg};function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function Node_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Node_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Node_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function Node_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function Node_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Node_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var defaultConfig={x:0,y:0,strokeWidth:3,marginLeft:0,width:90,opacity:1,height:50,rx:20,ry:20,fill:"#1F8244",stroke:"#000000",gui:{}},Node=function(){function Node(){var _this=this,custom=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Node_classCallCheck(this,Node),this.wirer=void 0,this._id=void 0,this._ports=void 0,this._refNode=void 0,this._el=void 0,this._states=void 0,this.x=void 0,this.y=void 0,this.wires=void 0,this.behavior=void 0,this.cfg=void 0,this.gui=void 0,this.inputs=void 0,this.instance=void 0;var cfg=Object.assign({},defaultConfig,custom),behavior=cfg.behavior,ports=cfg.ports,gui=cfg.gui,id=cfg.id,x=cfg.x,y=cfg.y,inputs=cfg.inputs;return this._refNode=id,this.behavior=behavior,this.cfg=cfg,this.gui=Object.assign({},gui),this.inputs=inputs||{},this.x=x||0,this.y=y||0,this._ports={in:[],out:[],flow_in:[],flow_out:[]},this.wires=[],this._states={dragging:!1},this.setupPorts({type:"data",direction:"in",length:ports.data_in}),this.setupPorts({type:"data",direction:"out",length:ports.data_out}),this.setupPorts({type:"flow",direction:"in",length:ports.flow_in}),this.setupPorts({type:"flow",direction:"out",length:ports.flow_out}),forEach_default()(inputs,(function(value,id){set_default()(_this.gui,[id,"initialValue"],value),set_default()(_this.gui,[id,"value"],value)})),this}var _getPortValue;return function Node_createClass(Constructor,protoProps,staticProps){return protoProps&&Node_defineProperties(Constructor.prototype,protoProps),staticProps&&Node_defineProperties(Constructor,staticProps),Constructor}(Node,[{key:"toString",value:function toString(){return"<"+[this._id,this._refNode].join(", ")+">"}},{key:"setupElement",value:function setupElement(){this._el=SVGContainer(this)}},{key:"onChange",value:function onChange(change){var _this$cfg$onInputChan,_this$cfg,_Object$assign,id=change.id,value=change.value;null===(_this$cfg$onInputChan=(_this$cfg=this.cfg).onInputChange)||void 0===_this$cfg$onInputChan||_this$cfg$onInputChan.call(_this$cfg,this,change),this.inputs=Object.assign({},this.inputs,((_Object$assign={})[id]=value,_Object$assign))}},{key:"onAttach",value:function onAttach(data){if(this.cfg.onAttach)return this.cfg.onAttach(this,data)}},{key:"delete",value:function _delete(){}},{key:"getPort",value:function getPort(type,id){return this.getPorts(type)[id]}},{key:"getPorts",value:function getPorts(type){return this._ports[type]}},{key:"getPortValueSync",value:function getPortValueSync(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"in",index=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,connection=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,context=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},portConn=this.getPort(type,index).connections[connection],portNode=portConn&&this.wirer.getNode(portConn.nodeId),getNode=this.wirer.getNode.bind(this.wirer);return portNode?portNode.behavior(getNode,context)[portConn.id]:null}},{key:"getPortValue",value:(_getPortValue=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(){var type,index,connection,context,portConn,portNode,getNode,_args=arguments;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(type=_args.length>0&&void 0!==_args[0]?_args[0]:"in",index=_args.length>1&&void 0!==_args[1]?_args[1]:0,connection=_args.length>2&&void 0!==_args[2]?_args[2]:0,context=_args.length>3&&void 0!==_args[3]?_args[3]:{},portConn=this.getPort(type,index).connections[connection],portNode=portConn&&this.wirer.getNode(portConn.nodeId),getNode=this.wirer.getNode.bind(this.wirer),!portNode){_context.next=11;break}return _context.next=10,portNode.getValue(getNode,context,portConn.id);case 10:return _context.abrupt("return",_context.sent);case 11:return _context.abrupt("return",null);case 12:case"end":return _context.stop()}}),_callee,this)}))),function getPortValue(){return _getPortValue.apply(this,arguments)})},{key:"getValue",value:function getValue(getNode,context,id){var promise=Promise.resolve(this.behavior(getNode,context));return isNil_default()(id)?promise:promise.then((function(value){return value[id]}))}},{key:"removePorts",value:function removePorts(ports){var _step,_iterator=_createForOfIteratorHelper(ports);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _port=_step.value;this.removePort(_port)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}},{key:"removePort",value:function removePort(port){var _step2,_iterator2=_createForOfIteratorHelper(this.wires.filter((function(w){return w.controlPoints.includes(port)})));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _wire=_step2.value;_wire.delete(),this.wirer.render.removeWire(_wire)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}},{key:"setupPorts",value:function setupPorts(_ref){var _this2=this,type=_ref.type,direction=_ref.direction,length=_ref.length,offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,_getPortMeta=getPortMeta(type,direction),key=_getPortMeta.key;this.removePorts(this._ports[key].slice(length+offset)),this._ports[key].splice(length+offset),times_default()(length,(function(index){_this2.setupPort({type,direction,id:index+offset})})),this._ports=Object.assign({},this._ports)}},{key:"setupPort",value:function setupPort(_ref2){var id=_ref2.id,type=_ref2.type,direction=_ref2.direction,hard=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_getPortMeta2=getPortMeta(type,direction),constructor=_getPortMeta2.constructor,key=_getPortMeta2.key,port=new constructor({node:this,id,direction}),currentIndex=findIndex_default()(this._ports[key],{id});-1!=currentIndex?hard&&(this._ports[key][currentIndex]=port):this._ports[key].push(port)}},{key:"data",get:function get(){return this.behavior()}},{key:"main",get:function get(){return this._el.querySelector("#main")}},{key:"_svg",get:function get(){return getParentSvg(this._el)}}]),Node}();function getPortMeta(type,direction){var types={data:{constructor:DataPort,key:""+direction},flow:{constructor:FlowPort,key:"flow_"+direction}};if(!types[type])throw'Port of type "'+type+'" not found';return types[type]}__webpack_require__(91058);var throttle=__webpack_require__(23493),throttle_default=__webpack_require__.n(throttle);function BaseWire_slicedToArray(arr,i){return BaseWire_arrayWithHoles(arr)||function BaseWire_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||BaseWire_unsupportedIterableToArray(arr,i)||BaseWire_nonIterableRest()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return BaseWire_arrayLikeToArray(arr)}(arr)||_iterableToArray(arr)||BaseWire_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toArray(arr){return BaseWire_arrayWithHoles(arr)||_iterableToArray(arr)||BaseWire_unsupportedIterableToArray(arr)||BaseWire_nonIterableRest()}function BaseWire_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function BaseWire_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return BaseWire_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BaseWire_arrayLikeToArray(o,minLen):void 0}}function BaseWire_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function BaseWire_arrayWithHoles(arr){if(Array.isArray(arr))return arr}function BaseWire_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var BaseWire=function(){function BaseWire(config){!function BaseWire_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseWire),this.controlPoints=void 0,this._inverted=!1,this.custom=!1,this._el=void 0;var controlPoints=config.controlPoints;config.render;return this.controlPoints=controlPoints||[],this._inverted=!1,this.custom=!1,this}return function BaseWire_createClass(Constructor,protoProps,staticProps){return protoProps&&BaseWire_defineProperties(Constructor.prototype,protoProps),staticProps&&BaseWire_defineProperties(Constructor,staticProps),Constructor}(BaseWire,[{key:"getControlPoints",value:function getControlPoints(){var _this$controlPoints=_toArray(this.controlPoints);return[_this$controlPoints[0],_this$controlPoints.slice(1).pop()]}},{key:"getPorts",value:function getPorts(){return this.getControlPoints().filter((function(v){return v instanceof Port}))}},{key:"addControlPoints",value:function addControlPoints(){for(var _len=arguments.length,controlPoints=new Array(_len),_key=0;_key<_len;_key++)controlPoints[_key]=arguments[_key];this.controlPoints=[].concat(_toConsumableArray(this.controlPoints),controlPoints)}},{key:"setTarget",value:function setTarget(value){var _this$controlPoints2=_toArray(this.controlPoints),head=_this$controlPoints2[0];_this$controlPoints2.slice(1);this.controlPoints=[head,value]}},{key:"setupInstance",value:function setupInstance(ref){this._el=ref,this._el.type="wire",this._el.wrapper=this}},{key:"getNodes",value:function getNodes(){var _ref2=BaseWire_slicedToArray(this.getPorts(),2),sourcePort=_ref2[0],targetPort=_ref2[1];return[null==sourcePort?void 0:sourcePort.node,null==targetPort?void 0:targetPort.node]}},{key:"seal",value:function seal(){var _this$getPorts2=BaseWire_slicedToArray(this.getPorts(),2),sourcePort=_this$getPorts2[0],targetPort=_this$getPorts2[1];if((null==sourcePort?void 0:sourcePort.direction)==(null==targetPort?void 0:targetPort.direction))return!1;var canAttach=sourcePort.attach(targetPort);return canAttach&&(sourcePort.node.wires.push(this),targetPort.node.wires.push(this)),canAttach}},{key:"delete",value:function _delete(){var _this$getPorts4=BaseWire_slicedToArray(this.getPorts(),2),sourcePort=_this$getPorts4[0],targetPort=_this$getPorts4[1];spliceByIndex(sourcePort.node.wires,this),spliceByIndex(targetPort.node.wires,this),sourcePort.dettach(targetPort)}},{key:"getPointTranslated",value:function getPointTranslated(point){var offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},zoom=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,vOffset=_p_multiply(offset,zoom);return _p_add(point,vOffset)}},{key:"render",value:function render(offset,zoom){return null}}]),BaseWire}();function Wire_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Wire_setPrototypeOf(o,p){return(Wire_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Wire_createSuper(Derived){var hasNativeReflectConstruct=function Wire_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Wire_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Wire_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Wire_possibleConstructorReturn(this,result)}}function Wire_possibleConstructorReturn(self,call){return!call||"object"!=typeof call&&"function"!=typeof call?Wire_assertThisInitialized(self):call}function Wire_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Wire_getPrototypeOf(o){return(Wire_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Wire=function(_BaseWire){!function Wire_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Wire_setPrototypeOf(subClass,superClass)}(Wire,_BaseWire);var _super=Wire_createSuper(Wire);function Wire(config){var _this;Wire_classCallCheck(this,Wire);for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return Wire_possibleConstructorReturn(_this=_super.call.apply(_super,[this,config].concat(args)),Wire_assertThisInitialized(_this))}return Wire}(BaseWire),normalizeEvent=(__webpack_require__(3843),__webpack_require__(52420),function normalizeEvent(event){null==event.x&&(event.x=event.clientX),null==event.y&&(event.y=event.clientY)});function eventHandlers_registerEvents(){var svg=this._svg;return svg.addEventListener("mousedown",onMouseDown.bind(this),!1),svg.addEventListener("mouseup",onMouseUp.bind(this)),svg.addEventListener("mousemove",onMouseMove.bind(this)),window.addEventListener("wheel",onMouseWheel.bind(this)),document.addEventListener("keydown",onKeyDown.bind(this),!1),{}}function onMouseDown(event){var _this=this;console.debug("Render - mouseDown - inIframe: "+function inIframe(){try{return window.self!==window.top}catch(e){return!0}}()),normalizeEvent(event),this.lastSelected=null;var target=event.target,mouse=event;if("container"===target.type){this.dragging=target;var _p$divide=_p_divide(mouse,this.zoom),x=_p$divide.x,y=_p$divide.y;return this._aux.mouseDown={x,y,offset:Object.assign({},this.offset)},this.lastSelected=null,this.throttleUpdate(),null}if(target.classList.value.includes("leader-line")&&(target=getParentSvg(target)),"wire"===target.type)return console.debug("Wire selected:",target.wrapper,"Triggered by: ",target),this.lastSelected=target.wrapper,this.throttleUpdate(),null;if("port"===target.type){this.startAttach(target);var wire=this._aux.wire,SVGbox=this._svg.getBoundingClientRect(),vMouse=_p_subtract(mouse,[SVGbox.left,SVGbox.top]);return wire.addControlPoints(vMouse),this.throttleUpdate(),!0}var captureList=["INPUT","SELECT","TEXTAREA","BUTTON"],parentSvg=getParentSvg(target);if(function shouldCapture(tagName){return!captureList.includes(tagName)}(target.tagName)&&parentSvg&&"node"==parentSvg.type){if(this.disableDragging)return!0;var node=parentSvg;console.debug("Node selected:",node,"Triggered by: ",target);var wrapper=node.wrapper;this.lastSelected=wrapper,this.dragging=node;var _SVGbox=wrapper._svg.getBoundingClientRect(),_mouse=_p_divide(event,this.zoom),offset=_p_subtract(_mouse,[_SVGbox.left,_SVGbox.top]);this._aux.mouseDown={wrapper:_p_add(wrapper,1),barePos:_p_add(event,1),mouse:_mouse,x:offset.x-wrapper.x,y:offset.y-wrapper.y},this._svg.appendChild(this.dragging),wrapper.wires.forEach((function(wire){return wire._el&&_this._svg.appendChild(wire._el)})),this.throttleUpdate()}}function onMouseUp(event){var target=event.target;this.dragging=null,this.isState("attaching")&&("port"===target.type?this.endAttach(target):(this._aux.wire=null,this.setState(null)),this.throttleUpdate())}function onMouseMove(event){normalizeEvent(event);var dragging=this.dragging,zoom=this.zoom,mouse=event;if(this.isState("attaching")){var wire=this._aux.wire,SVGbox=this._svg.getBoundingClientRect();if(this.internalRender){var padding=wire._inverted?4:-4,vMouse=_p_add(_p_subtract(mouse,[SVGbox.left,SVGbox.top]),padding);wire.setTarget(vMouse),this.throttleUpdate()}else{var _vMouse=_p_subtract(mouse,[SVGbox.left,SVGbox.top]);wire._el&&wire._el.leaderLine&&wire.setTarget(_vMouse),this.throttleUpdate()}return!0}if(dragging&&"container"==dragging.type){var firstState=this._aux.mouseDown;return this.offset=_p_add(firstState.offset,_p_subtract(_p_divide(event,zoom),firstState)),console.debug("Updating offset",this.offset),this.throttleUpdate(),!0}if(dragging&&dragging.wrapper instanceof Node){var wrapper=dragging.wrapper,_firstState=this._aux.mouseDown,dtMouse=(_p_divide(event,this.zoom),_p_subtract(event,_firstState.barePos)),_p$add=_p_add(_firstState.wrapper,_p_divide(dtMouse,zoom)),x=_p$add.x,y=_p$add.y;return wrapper.x=x,wrapper.y=y,this.throttleUpdate(),!0}}function onMouseWheel(event){if(this.disableZoom&&this.dragging)return!1;null===this._aux.lastZoomTime&&(this._aux.lastZoomTime=Date.now());var zoomDt=.05*Math.sign(event.deltaY);return this.setZoom(_p_clamp(.3,this.zoom-zoomDt,3)),console.info("MouseWheel - zoomDt",zoomDt),console.info("MouseWheel - zoom",this.zoom),this.forceUpdate(),this._aux.lastZoomTime=Date.now(),!1}function onKeyDown(event){46!==event.keyCode&&"Delete"!==event.code||(console.debug("Keydown - deleting",this.lastSelected),this.lastSelected instanceof Node&&(this.config.wrapper.removeNode(this.lastSelected,!0),this.forceUpdate()),this.lastSelected instanceof BaseWire&&(this.removeWire(this.lastSelected),this.forceUpdate()))}function Render_toConsumableArray(arr){return function Render_arrayWithoutHoles(arr){if(Array.isArray(arr))return Render_arrayLikeToArray(arr)}(arr)||function Render_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function Render_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Render_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Render_arrayLikeToArray(o,minLen)}(arr)||function Render_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Render_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Render_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Render_defaultConfig={width:800,height:600},Render=function(){function Render(config){return function Render_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Render),this._svg=void 0,this.zoom=1,this.offset={x:0,y:0},this.disableZoom=!1,this.disableDragging=!1,this.internalRender=!0,this.gridSize=20,this.gridColor="grey",this.backgroundColor="#CCCCCC75",this.config=void 0,this.lastSelected=void 0,this.dragging=void 0,this._state=void 0,this._wires=void 0,this._aux=void 0,this.react=void 0,this.themeStyles=void 0,this.throttleUpdate=throttle_default()(this.forceUpdate,1),this.config=Object.assign({},Render_defaultConfig,config),this._aux={},this._state=null,this._wires=[],this.lastSelected=null,this.dragging=null,this}return function Render_createClass(Constructor,protoProps,staticProps){return protoProps&&Render_defineProperties(Constructor.prototype,protoProps),staticProps&&Render_defineProperties(Constructor,staticProps),Constructor}(Render,[{key:"getConnections",value:function getConnections(){var connections=Render_toConsumableArray(this._wires),wire=this._aux.wire;return wire&&connections.push(wire),connections}},{key:"registerEvents",value:function registerEvents(){eventHandlers_registerEvents.call(this)}},{key:"loadContainer",value:function loadContainer(svg){var _this$config=this.config,width=_this$config.width,height=_this$config.height;this._svg=svg,this._svg.type="container",this.matchViewBox(),this.setCanvasSize({width,height}),this.registerEvents()}},{key:"matchViewBox",value:function matchViewBox(){var _this$_svg$getBoundin=this._svg.getBoundingClientRect(),width=_this$_svg$getBoundin.width,height=_this$_svg$getBoundin.height;this._svg.setAttribute("viewBox","0, 0, "+width+" "+height)}},{key:"setCanvasSize",value:function setCanvasSize(_ref){var width=_ref.width,height=_ref.height;this._svg.style.width=width,this._svg.style.height=height,this._svg.setAttribute("width",width),this._svg.setAttribute("height",height),this._svg.setAttribute("viewBox","0 0 "+width+" "+height)}},{key:"addElement",value:function addElement(el){this._svg.appendChild(el)}},{key:"removeElement",value:function removeElement(el){this._svg.contains(el)&&this._svg.removeChild(el)}},{key:"startDrag",value:function startDrag(port){this.setState("dragging")}},{key:"startAttach",value:function startAttach(port){var controlPoints=[port.wrapper],wire=new Wire({controlPoints,render:this});wire._inverted="in"===port.wrapper.direction,this.setState("attaching"),this._aux.wire=wire,this.internalRender}},{key:"endAttach",value:function endAttach(port){if(this.isState("attaching")){this.setState(null);var wire=this._aux.wire;this._aux.wire=null,wire.setTarget(port.wrapper);var success=this.addWire(wire);console.debug("Adding Wire - success",success,wire),!success&&this.internalRender}}},{key:"addWire",value:function addWire(wire){return!!wire.seal()&&(wire.render(this.offset,this.zoom),this._wires=[].concat(Render_toConsumableArray(this._wires),[wire]),this.forceUpdate(),!0)}},{key:"removeWire",value:function removeWire(wire){var index=this._wires.indexOf(wire);if(-1==index)return null;var removed=this._wires.splice(index,1)[0];return removed.delete(),removed}},{key:"getGridStyle",value:function getGridStyle(){var offset=this.offset,zoom=this.zoom,gridSize=this.gridSize,gridColor=this.gridColor,backgroundColor=this.backgroundColor,zOffset=_p_multiply(offset,zoom),zGridSize=gridSize*zoom,lineWidth=parseInt(_p_clamp(1,1*zoom,10).toString())+"px";return{backgroundColor,backgroundPositionX:zOffset.x+"px",backgroundPositionY:zOffset.y+"px",backgroundSize:zGridSize+"px "+zGridSize+"px",backgroundImage:"linear-gradient(to right, "+gridColor+" "+lineWidth+", transparent "+lineWidth+"), linear-gradient(to bottom, "+gridColor+" "+lineWidth+", transparent "+lineWidth+")"}}},{key:"sealOrDiscard",value:function sealOrDiscard(){for(var _len=arguments.length,controlPoints=new Array(_len),_key=0;_key<_len;_key++)controlPoints[_key]=arguments[_key];var wire=new Wire({controlPoints,render:this});return this.addWire(wire)?wire:(this.forceUpdate(),null)}},{key:"setState",value:function setState(state){return this._state=state}},{key:"isState",value:function isState(state){return this._state===state}},{key:"getCanvasSize",value:function getCanvasSize(){var _this$config2=this.config,width=_this$config2.width,height=_this$config2.height;return _p_multiply([width,height],1)}},{key:"getCenterPoint",value:function getCenterPoint(){var vOffset=_p_multiply(this.offset,this.zoom),vCanvasSize=_p_multiply(this.getCanvasSize(),1),value=_p_subtract(_p_divide(vCanvasSize,2),vOffset);return _p_divide(value,this.zoom)}},{key:"setCenterPoint",value:function setCenterPoint(point){var vPoint=_p_multiply(point,-1*this.zoom),vCanvasSize=_p_multiply(this.getCanvasSize(),1);this.offset=_p_add(_p_divide(vCanvasSize,2),vPoint),this.offset=_p_divide(this.offset,this.zoom),this.forceUpdate()}},{key:"forceUpdate",value:function forceUpdate(){this.react&&this.react.forceUpdate()}},{key:"setZoom",value:function setZoom(value){var cameraTarget=this.getCenterPoint();this.zoom=value,this.setCenterPoint(cameraTarget),this.forceUpdate()}},{key:"setOffset",value:function setOffset(point){this.offset=point,this.forceUpdate()}},{key:"selectedWire",get:function get(){return this.lastSelected instanceof BaseWire?this.lastSelected:null}}]),Render}(),standard=__webpack_require__(86521);function prototype_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var _behavior,prototypeMap={CanvasRenderingContext2D:__webpack_require__(36551)},InstanceData=function InstanceData(instanceType,instance){!function prototype_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,InstanceData),this.instanceType=void 0,this.instance=void 0,this.instanceType=instanceType,this.instance=instance},instanceOptions=Object.keys(prototypeMap);const nodes_prototype={getInstance:{id:"getInstance",fill:"#F5E867",ports:{data_in:0,data_out:1,flow_in:0,flow_out:0},title:"getInstance",gui:{instance:{label:"instance",type:"select",options:instanceOptions}},inputs:{instance:instanceOptions[0]},behavior:function behavior(findById,_ref){var canvasElement=_ref.canvasElement,instanceType=this.inputs.instance;return!this.instance&&canvasElement&&(this.instance=canvasElement.getContext("2d")),[new InstanceData(instanceType,this.instance)]}},actInstance:{id:"actInstance",fill:"#FF8D4F",ports:{data_in:1,data_out:1,flow_in:1,flow_out:1},title:"actInstance",gui:{method:{label:"method",type:"select",options:[]}},behavior:(_behavior=function prototype_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){prototype_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){prototype_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(findById,context){var _instance,instanceData,instance,params,i,method;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.getPortValue("in",0,0,context);case 2:if((instanceData=_context.sent)instanceof InstanceData&&(instance=instanceData.instance),instance){_context.next=6;break}return _context.abrupt("return",null);case 6:params=[],i=1;case 8:if(!(i<this._ports.in.length)){_context.next=17;break}return _context.t0=params,_context.next=12,this.getPortValue("in",i);case 12:_context.t1=_context.sent,_context.t0.push.call(_context.t0,_context.t1);case 14:i++,_context.next=8;break;case 17:return method=this.inputs.method,(_instance=instance)[method].apply(_instance,params),_context.abrupt("return",0);case 20:case"end":return _context.stop()}}),_callee,this)}))),function behavior(_x,_x2){return _behavior.apply(this,arguments)}),onInputChange:function onInputChange(node,change){var instanceData=node.getPortValueSync("in",0,0);if(!(instanceData instanceof InstanceData))return null;if("method"==change.id){var methodData=prototypeMap[instanceData.instanceType].prototype[change.value];if(node._ports.out=[],"function"==(null==methodData?void 0:methodData.type)){var length=methodData.parameters.length;node.setupPorts({type:"data",direction:"in",length},1),node.wirer.render.throttleUpdate()}}},onAttach:function onAttach(node,_ref2){var from=_ref2.from,to=_ref2.to,portIndex=node._ports.in.indexOf(from);if(-1==portIndex&&(portIndex=node._ports.in.indexOf(to)),0!=portIndex)return null;var instanceData=node.getPortValueSync("in",0,0);if(!(instanceData instanceof InstanceData))return null;var options=Object.keys(prototypeMap[instanceData.instanceType].prototype);node.gui={method:{label:"method",type:"select",options}},void 0===this.inputs.method&&(this.inputs=options[0]),this.onInputChange(node,{id:"method",value:this.inputs.method})}}};function nodejs_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function nodejs_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){nodejs_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){nodejs_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var _behavior2;const nodejs={console:{id:"console",fill:"#F5E867",ports:{data_in:2,data_out:0,flow_in:1,flow_out:1},title:"console",gui:{op:{label:"action",type:"select",options:["log","info"]},value:{label:"value",type:"text"}},behavior:function(){var _behavior=nodejs_asyncToGenerator(regeneratorRuntime.mark((function _callee(findById,_ref){var board,op,portConn,portNode,value,valueConn,valueNode;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(board=_ref.board,op=this.inputs.op,portConn=this._ports.in[0].connections[0],(portNode=portConn&&findById(portConn.nodeId))&&(op=portNode.behavior(findById)[portConn.id]),value=JSON.parse(this.inputs.value),valueConn=this._ports.in[1].connections[0],!(valueNode=valueConn&&findById(valueConn.nodeId))){_context.next=13;break}return _context.next=11,valueNode.behavior(findById,{board});case 11:_context.t0=valueConn.id,value=_context.sent[_context.t0];case 13:return console[op](value),_context.abrupt("return",0);case 15:case"end":return _context.stop()}}),_callee,this)})));return function behavior(_x,_x2){return _behavior.apply(this,arguments)}}()},readQuestion:{fill:"#FF8D4F",ports:{data_in:1,data_out:1,flow_in:0,flow_out:0},title:"readQuestion",gui:{message:{label:"message",type:"text"}},behavior:(_behavior2=nodejs_asyncToGenerator(regeneratorRuntime.mark((function _callee2(findById,_ref2){var message,portConn,portNode,readline;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _ref2.board,message=this.inputs.message,portConn=this._ports.in[0].connections[0],(portNode=portConn&&findById(portConn.nodeId))&&(message=portNode.behavior(findById)[portConn.id]),readline=__webpack_require__(66659),_context2.abrupt("return",new Promise((function(resolve){var rl=readline.createInterface({input:process.stdin,output:process.stdout});rl.question(message,(function(value){rl.on("close",(function(){return resolve([value])})),rl.close()}))})));case 7:case"end":return _context2.stop()}}),_callee2,this)}))),function behavior(_x3,_x4){return _behavior2.apply(this,arguments)})}};__webpack_require__(72443);var find=__webpack_require__(13311),find_default=__webpack_require__.n(find),get=__webpack_require__(27361),get_default=__webpack_require__.n(get);function _awaitAsyncGenerator(value){return new _AwaitValue(value)}function _wrapAsyncGenerator(fn){return function(){return new _AsyncGenerator(fn.apply(this,arguments))}}function _AsyncGenerator(gen){var front,back;function resume(key,arg){try{var result=gen[key](arg),value=result.value,wrappedAwait=value instanceof _AwaitValue;Promise.resolve(wrappedAwait?value.wrapped:value).then((function(arg){wrappedAwait?resume("return"===key?"return":"next",arg):settle(result.done?"return":"normal",arg)}),(function(err){resume("throw",err)}))}catch(err){settle("throw",err)}}function settle(type,value){switch(type){case"return":front.resolve({value,done:!0});break;case"throw":front.reject(value);break;default:front.resolve({value,done:!1})}(front=front.next)?resume(front.key,front.arg):back=null}this._invoke=function send(key,arg){return new Promise((function(resolve,reject){var request={key,arg,resolve,reject,next:null};back?back=back.next=request:(front=back=request,resume(key,arg))}))},"function"!=typeof gen.return&&(this.return=void 0)}function _AwaitValue(value){this.wrapped=value}function _behaviorRunner(){return(_behaviorRunner=_wrapAsyncGenerator(regeneratorRuntime.mark((function _callee(instance,context){var node,internalContext,getNode,step,refNode,nodeBehavior,flowPort,nextNodeId;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(node=find_default()(instance._objects,{_refNode:"start"}),internalContext=Object.assign({},context),node){_context.next=4;break}throw new Error("Start node not found");case 4:console.debug("Start node found: "+node),getNode=instance.getNode.bind(instance),step=0;case 7:return refNode=instance.getNodeRef(node._refNode),console.debug("Step",++step,node.toString()),nodeBehavior=refNode.behavior.call(node,getNode,internalContext),_context.next=12,_awaitAsyncGenerator(Promise.resolve(nodeBehavior));case 12:return flowPort=_context.sent,nextNodeId=get_default()(node._ports,["flow_out",flowPort,"connections",0,"nodeId"],null),(node=getNode(nextNodeId))?console.debug("Next Step from port "+flowPort+": "+node):console.debug("Final Step reached"),_context.next=18,{node,context};case 18:if(node){_context.next=7;break}case 19:return _context.abrupt("return",{context});case 20:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}_AsyncGenerator.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},_AsyncGenerator.prototype.next=function(arg){return this._invoke("next",arg)},_AsyncGenerator.prototype.throw=function(arg){return this._invoke("throw",arg)},_AsyncGenerator.prototype.return=function(arg){return this._invoke("return",arg)};const src_behaviorRunner=function behaviorRunner(_x,_x2){return _behaviorRunner.apply(this,arguments)};__webpack_require__(21249);function jsonLoader_slicedToArray(arr,i){return function jsonLoader_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function jsonLoader_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||jsonLoader_unsupportedIterableToArray(arr,i)||function jsonLoader_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jsonLoader_toConsumableArray(arr){return function jsonLoader_arrayWithoutHoles(arr){if(Array.isArray(arr))return jsonLoader_arrayLikeToArray(arr)}(arr)||function jsonLoader_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||jsonLoader_unsupportedIterableToArray(arr)||function jsonLoader_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jsonLoader_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return jsonLoader_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jsonLoader_arrayLikeToArray(o,minLen):void 0}}function jsonLoader_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Wirer_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function Wirer_slicedToArray(arr,i){return function Wirer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Wirer_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||Wirer_unsupportedIterableToArray(arr,i)||function Wirer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wirer_toConsumableArray(arr){return function Wirer_arrayWithoutHoles(arr){if(Array.isArray(arr))return Wirer_arrayLikeToArray(arr)}(arr)||function Wirer_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||Wirer_unsupportedIterableToArray(arr)||function Wirer_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wirer_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=Wirer_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function Wirer_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return Wirer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wirer_arrayLikeToArray(o,minLen):void 0}}function Wirer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Wirer_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Wirer_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _templateObject,Wirer=function(){function Wirer(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:800,height:600},width=_ref.width,height=_ref.height;return Wirer_classCallCheck(this,Wirer),this.nodeRefs=void 0,this._uid=void 0,this._objects=void 0,this._wires=void 0,this.render=void 0,this._uid=0,this.nodeRefs={},this._objects=[],this._wires=[],this.render=new Render({width,height,wrapper:this}),this.clearCanvas(),this}var _run;return function Wirer_createClass(Constructor,protoProps,staticProps){return protoProps&&Wirer_defineProperties(Constructor.prototype,protoProps),staticProps&&Wirer_defineProperties(Constructor,staticProps),Constructor}(Wirer,[{key:"addNodes",value:function addNodes(nodes){var _step,_iterator=Wirer_createForOfIteratorHelper(nodes);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _node=_step.value;null==_node._id&&(_node._id=(this._uid++).toString()),_node.wirer=this,this._objects.push(_node)}}catch(err){_iterator.e(err)}finally{_iterator.f()}this.render.react&&this.render.react.forceUpdate()}},{key:"addNode",value:function addNode(node){this.addNodes([node])}},{key:"removeNode",value:function removeNode(node,update){var index=this._objects.indexOf(node);if(-1!=index){for(var _i=0,_arr=Wirer_toConsumableArray(node.wires);_i<_arr.length;_i++){var _wire=_arr[_i];this.render.removeWire(_wire)}if(update){var removed=this._objects.splice(index,1)[0];return this.render.throttleUpdate(),removed}}}},{key:"addStartNode",value:function addStartNode(){var startNode=this.createNode("start");startNode.x=30,startNode.y=30,startNode.behavior=function(){return 0},this.addNode(startNode)}},{key:"clearCanvas",value:function clearCanvas(){var _this=this,start=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._objects.forEach((function(node){return _this.removeNode(node,!1)})),this._objects=[],this._wires=[],start&&this.addStartNode(),this.render.forceUpdate()}},{key:"registerNode",value:function registerNode(name,cfg){this.nodeRefs[name]=Wirer._formatNodeRef(name,cfg)}},{key:"getNodeRef",value:function getNodeRef(name){return this.nodeRefs[name]||Wirer._refNodes[name]}},{key:"createNode",value:function createNode(name,data){var nodeRef=this.getNodeRef(name);if(!nodeRef)throw"Node '"+name+"' not registered";return new Node(Object.assign({},nodeRef,data,{inputs:Object.assign({},nodeRef.inputs,null==data?void 0:data.inputs)}))}},{key:"getNode",value:function getNode(id){return isNil_default()(id)?null:this._objects.find((function(node){return node._id==id}))}},{key:"loadPorts",value:function loadPorts(nodey,ports,_ref2){var _this2=this,_ref3=Wirer_slicedToArray(_ref2,2),from=_ref3[0],to=_ref3[1];ports.forEach((function(port,index){var _step2,_iterator2=Wirer_createForOfIteratorHelper(port);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _conn=_step2.value,_nodey=_this2.getNode(_conn.node||_conn.nodeId),_cps=[nodey._ports[from][index],_nodey._ports[to][_conn.id]];try{var _this2$render;(_this2$render=_this2.render).sealOrDiscard.apply(_this2$render,Wirer_toConsumableArray(_cps))}catch(_unused){console.debug("Failed to load connection",nodey,_conn)}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}))}},{key:"toJSON",value:function toJSON(){return function toJSON(nodes,nodeRefs){var fluxgram=nodes.map((function(node){var object={refNode:node._refNode,inputs:node.inputs,id:node._id,x:node.x,y:node.y,ports:{}};for(var type in node._ports)console.debug("to JSON - ",type,node._ports[type]),object.ports[type]=node._ports[type].map((function(port){return jsonLoader_toConsumableArray(port.connections)}));return object})),refNode=Object.entries(nodeRefs).map((function(_ref){var _ref2=jsonLoader_slicedToArray(_ref,2),node=(_ref2[0],_ref2[1]);return Object.assign({},node,{behavior:node.behavior.toString()})})),string=JSON.stringify({refNode,fluxgram},null,2);return JSON.parse(string)}(this._objects,Wirer._refNodes)}},{key:"loadJSON",value:function loadJSON(data){this.clearCanvas(!1);var _step3,_iterator3=Wirer_createForOfIteratorHelper(data);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _node3=_step3.value,_refNode=_node3.refNode,_inputs=_node3.inputs,_x=_node3.x,_y=_node3.y,_id=(_node3.value,_node3.id),_instance2=this.createNode(_refNode,{inputs:_inputs});_instance2._id=_id,_instance2.x=_x,_instance2.y=_y,this.addNode(_instance2)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}var _step4,_iterator4=Wirer_createForOfIteratorHelper(data);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _node4=_step4.value,_instance3=this.getNode(_node4.id);this.loadPorts(_instance3,_node4.ports.out,["out","in"]),this.loadPorts(_instance3,_node4.ports.flow_out,["flow_out","flow_in"])}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}}},{key:"reload",value:function reload(){var flow=this.toJSON().fluxgram;this.loadJSON(flow)}},{key:"run",value:(_run=function Wirer_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){Wirer_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){Wirer_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(context){var runner,result;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return runner=src_behaviorRunner(this,context),_context.next=3,runner.next();case 3:result=_context.sent;case 4:if(result.done){_context.next=10;break}return _context.next=7,runner.next();case 7:result=_context.sent,_context.next=4;break;case 10:return _context.abrupt("return",result.value);case 11:case"end":return _context.stop()}}),_callee,this)}))),function run(_x2){return _run.apply(this,arguments)})},{key:"__compile",value:function __compile(){}},{key:"nodes",get:function get(){return this._objects}}],[{key:"_formatNodeRef",value:function _formatNodeRef(name,cfg){var behavior="function"!=typeof cfg.behavior?new Function("getNode",cfg.behavior):cfg.behavior;return Object.assign({},cfg,{id:name,behavior})}},{key:"registerNode",value:function registerNode(name,cfg){this._refNodes[name]=this._formatNodeRef(name,cfg)}},{key:"createNode",value:function createNode(name){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},cfg=this._refNodes[name];if(!cfg)throw"Node not registered";return new Node(Object.assign({},cfg,data))}}]),Wirer}();Wirer._refNodes=void 0,Wirer._refNodes=Object.assign({},standard.Z,nodejs,nodes_prototype);var ChromeStyle=(0,__webpack_require__(18117).vJ)(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n  .wirer-node-html .node__header {\n    background-color: ",";\n    text-align: center;\n    margin: 0 auto;\n    font-weight: bold;\n  }\n\n  .shine {\n    background: #333 -webkit-gradient(linear, left top, right top, from(#333), to(#333), color-stop(0.5, #fff)) 0 0 no-repeat;\n    background-size: 150px;\n    /* color: ","; */\n    background-clip: text;\n    animation-name: shine;\n    animation-duration: ",";\n    animation-iteration-count: infinite;\n    text-shadow: 0 0px 0px rgba(255, 255, 255, 0.5);\n  }\n\n  .chrome {\n    background: #333 -webkit-gradient(linear, left top, right top, from(#333), to(#333), color-stop(0.5, #fff)) 0 0 no-repeat;\n    background-image: -webkit-linear-gradient(-40deg, transparent 0%, transparent 40%, #fff 50%, transparent 60%, transparent 100%);\n    background-size: 100px;\n    color: ",";\n    background-clip: text;\n    animation-name: shine;\n    animation-duration: ",";\n    animation-iteration-count: infinite;\n    // animation-iteration-count: infinite;\n    text-shadow: 0 0px 0px rgba(255, 255, 255, 0.5);\n\n    animation: shine 10s infinite;\n  }\n\n  @keyframes shine {\n    0% {\n      background-position: top right;\n      background-position: -100px;\n    }\n    60% {\n      /* background-position: 100px; */\n      /* background-position: top left; */\n    }\n    70% {\n      /* background-position: 180px; */\n    }\n    80% {\n      /* background-position: 240px; */\n    }\n    100% {\n      background-position: 520px;\n    }\n  }\n\n  .glow {\n    color: #fff;\n    text-align: center;\n    animation: glow 1s ease-in-out infinite alternate;\n  }\n\n  @keyframes glow {\n    from {\n      text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #e60073, 0 0 40px #e60073, 0 0 50px #e60073, 0 0 60px #e60073, 0 0 70px #e60073;\n    }\n\n    to {\n      text-shadow: 0 0 20px #fff, 0 0 30px #ff4da6, 0 0 40px #ff4da6, 0 0 50px #ff4da6, 0 0 60px #ff4da6, 0 0 70px #ff4da6, 0 0 80px #ff4da6;\n    }\n  }\n\n\n  .glowing-box {\n    animation: glowing-box 1s infinite alternate;\n  }\n\n  @-webkit-keyframes glowing-box {\n    from {\n      box-shadow:\n          0 0 50px #fff,\n          -10px 0 80px #f0f,\n          10px 0 80px #0ff;\n    }\n\n    to {\n      box-shadow:\n          10px 0 80px #0ff,\n          -10px 0 80px #f0f,\n          0 0 50px #fff;\n    }\n  }\n"])),"#333","rgba(255, 255, 255, 0.3)","10s","rgba(255, 255, 255, 0.3)","10s"),themeStyles={wirerCanvas:{fontSize:"14px",display:"inline-block",fontFamily:"'Work Sans', sans-serif",border:"1px solid black",userSelect:"none",cursor:"default"},svgContent:{backgroundColor:"#fff9da",backgroundImage:"linear-gradient(to right, grey 1px, transparent 1px), linear-gradient(to bottom, grey 1px, transparent 1px)",backgroundSize:"50px 50px"},nodeWrapper:{minWidth:"60px",overflow:"visible"},nodeContainer:{overflow:"visible",backgroundColor:"red",border:"2px solid black",borderRadius:"16px",margin:"0",minWidth:"100%",minHeight:"100%",boxSizing:"border-box"},nodeHeader:{backgroundColor:"#333",color:"rgba(255, 255, 255, 0.3)",padding:"0.2em 0.6em",fontSize:"1em",borderBottom:"2px solid black",textAlign:"center",borderTopLeftRadius:"14px",borderTopRightRadius:"14px",alignItems:"center",justifyContent:"center",display:"flex"},nodeHeaderSelected:{backgroundColor:"#808080",color:"aliceblue"},nodeHeaderName:{margin:"0 auto"},nodeHeaderDelete:{},nodeInput:{width:"100%",height:"20px",boxSizing:"border-box",fontSize:"1em"},nodeInputPadding:{padding:"0.6em 0.2em"},nodeInputLabel:{display:"inline-block",fontSize:"0.9em",paddingTop:"0.4em",paddingBottom:"0.2em"},nodeSection:{display:"flex",margin:"0"},nodeSectionSVG:{width:"14px",height:"14px",overflow:"visible",margin:"auto"},nodeSectionContent:{flex:"1",padding:"0.4em 0.2em"},nodeSectionAside:{display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"40px",minWidth:"14px",margin:"10px 0",gap:"10px"},nodeSectionAsideLeft:{position:"relative",right:"7px"},nodeSectionAsideRight:{position:"relative",left:"7px"},nodePortContainer:{overflow:"visible",width:"14px",height:"14px"},nodePortCircle:{fill:"white",transform:"translate(7px, 7px)",stroke:"black",strokeWidth:2.5}},jsx_runtime=__webpack_require__(85893);function Container_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Container_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Container_setPrototypeOf(o,p){return(Container_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Container_createSuper(Derived){var hasNativeReflectConstruct=function Container_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Container_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Container_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Container_possibleConstructorReturn(this,result)}}function Container_possibleConstructorReturn(self,call){return!call||"object"!=typeof call&&"function"!=typeof call?function Container_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Container_getPrototypeOf(o){return(Container_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var WirerContext=react.createContext(null),Container=function(_React$Component){!function Container_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Container_setPrototypeOf(subClass,superClass)}(Container,_React$Component);var _super=Container_createSuper(Container);function Container(){var _this;Container_classCallCheck(this,Container);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).canvas=void 0,_this}return function Container_createClass(Constructor,protoProps,staticProps){return protoProps&&Container_defineProperties(Constructor.prototype,protoProps),staticProps&&Container_defineProperties(Constructor,staticProps),Constructor}(Container,[{key:"buildUp",value:function buildUp(ref){if(!ref)return null;if(this.canvas)return null;var _this$props=this.props,width=_this$props.width,height=_this$props.height,gridSize=_this$props.gridSize,gridColor=_this$props.gridColor,backgroundColor=_this$props.backgroundColor,canvas=new Wirer({width,height});canvas.render.loadContainer(ref),canvas.render.react=this,canvas.render.gridColor=gridColor,canvas.render.backgroundColor=backgroundColor,canvas.render.gridSize=gridSize,canvas.render.themeStyles=themeStyles,ref.wrapper=canvas,this.canvas=canvas,"function"==typeof this.props.onLoad&&this.props.onLoad(canvas)}},{key:"render",value:function render(){var _this2=this,canvas=this.canvas,props=this.props,themeStyles=null==canvas?void 0:canvas.render.themeStyles;return(0,jsx_runtime.jsx)(WirerContext.Provider,{value:this.canvas,children:(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(ChromeStyle,{}),(0,jsx_runtime.jsx)("div",{style:null==themeStyles?void 0:themeStyles.wirerCanvas,children:(0,jsx_runtime.jsx)("svg",{style:Object.assign({},null==themeStyles?void 0:themeStyles.svgContent,null==canvas?void 0:canvas.render.getGridStyle()),preserveAspectRatio:"xMidYMid meet",ref:function ref(_ref){return _this2.buildUp(_ref)},children:canvas&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(components_NodeList,{nodes:canvas.nodes,renderNode:props.renderNode,offset:canvas.render.offset,zoom:canvas.render.zoom}),(0,jsx_runtime.jsx)(components_Connections,{canvas,connections:canvas.render.getConnections(),offset:canvas.render.offset,zoom:canvas.render.zoom})]})})})]})})}}]),Container}(react.Component);Container.defaultProps={width:800,height:600,backgroundColor:"#CCCCCC75",gridColor:"grey",gridSize:"20",onLoad:null};try{Container.displayName="Container",Container.__docgenInfo={description:"",displayName:"Container",props:{width:{defaultValue:{value:"800"},description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:{value:"600"},description:"",name:"height",required:!1,type:{name:"number"}},gridSize:{defaultValue:{value:"20"},description:"",name:"gridSize",required:!1,type:{name:"number"}},gridColor:{defaultValue:{value:"grey"},description:"",name:"gridColor",required:!1,type:{name:"string"}},backgroundColor:{defaultValue:{value:"#CCCCCC75"},description:"",name:"backgroundColor",required:!1,type:{name:"string"}},onLoad:{defaultValue:{value:"null"},description:"",name:"onLoad",required:!1,type:{name:"(canvas?: Wirer) => void"}},renderNode:{defaultValue:null,description:"",name:"renderNode",required:!1,type:{name:"() => Element"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/Container.tsx#Container"]={docgenInfo:Container.__docgenInfo,name:"Container",path:"src/react/components/Container.tsx#Container"})}catch(__react_docgen_typescript_loader_error){}var PortList=function PortList(_ref){var node=_ref.node,portKey=("flow"===_ref.type?"flow_":"")+_ref.direction;return(0,jsx_runtime.jsx)(react.Fragment,{children:node.getPorts(portKey).map((function(port,index){return(0,jsx_runtime.jsx)(PortList_Port,{port},index)}))})};PortList.displayName="PortList";var PortList_Port=function Port(_ref2){var port=_ref2.port,themeStyles=react.useContext(WirerContext).render.themeStyles,circleStyles=Object.assign({},themeStyles.nodePortCircle,{r:8,fill:port.color});return(0,jsx_runtime.jsx)("svg",{style:themeStyles.nodePortContainer,children:(0,jsx_runtime.jsx)("circle",{style:circleStyles,ref:function ref(_ref3){return port.setupInstance(_ref3)}})})};PortList_Port.displayName="Port";const components_PortList=PortList;try{PortList.displayName="PortList",PortList.__docgenInfo={description:"",displayName:"PortList",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"Node"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}},direction:{defaultValue:null,description:"",name:"direction",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/PortList.tsx#PortList"]={docgenInfo:PortList.__docgenInfo,name:"PortList",path:"src/react/components/PortList.tsx#PortList"})}catch(__react_docgen_typescript_loader_error){}var splitPorts=function splitPorts(_ref){var node=_ref.node;return[[(0,jsx_runtime.jsx)(components_PortList,{node,type:"flow",direction:"in"},"flow_in"),(0,jsx_runtime.jsx)(components_PortList,{node,type:"data",direction:"in"},"data_in")],[(0,jsx_runtime.jsx)(components_PortList,{node,type:"flow",direction:"out"},"flow_out"),(0,jsx_runtime.jsx)(components_PortList,{node,type:"data",direction:"out"},"data_out")]]};const components_splitPorts=splitPorts;try{splitPorts.displayName="splitPorts",splitPorts.__docgenInfo={description:"",displayName:"splitPorts",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"Node"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/splitPorts.tsx#splitPorts"]={docgenInfo:splitPorts.__docgenInfo,name:"splitPorts",path:"src/react/components/splitPorts.tsx#splitPorts"})}catch(__react_docgen_typescript_loader_error){}function SplitSection_slicedToArray(arr,i){return function SplitSection_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function SplitSection_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function SplitSection_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return SplitSection_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SplitSection_arrayLikeToArray(o,minLen)}(arr,i)||function SplitSection_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SplitSection_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SplitSection=function SplitSection(_ref){var children=_ref.children,node=_ref.node,_splitPorts2=SplitSection_slicedToArray(components_splitPorts({node}),2),inputPorts=_splitPorts2[0],outputPorts=_splitPorts2[1],themeStyles=react.useContext(WirerContext).render.themeStyles;return(0,jsx_runtime.jsxs)("section",{className:"wirer-node-section",style:themeStyles.nodeSection,children:[(0,jsx_runtime.jsx)("aside",{className:"left",style:Object.assign({},themeStyles.nodeSectionAside,themeStyles.nodeSectionAsideLeft),children:inputPorts}),(0,jsx_runtime.jsx)("article",{style:themeStyles.nodeSectionContent,children}),(0,jsx_runtime.jsx)("aside",{className:"right",style:Object.assign({},themeStyles.nodeSectionAside,themeStyles.nodeSectionAsideRight),children:outputPorts})]})};SplitSection.displayName="SplitSection";const components_SplitSection=SplitSection;try{SplitSection.displayName="SplitSection",SplitSection.__docgenInfo={description:"",displayName:"SplitSection",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"Node"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/SplitSection.tsx#SplitSection"]={docgenInfo:SplitSection.__docgenInfo,name:"SplitSection",path:"src/react/components/SplitSection.tsx#SplitSection"})}catch(__react_docgen_typescript_loader_error){}var invoke=__webpack_require__(5907),invoke_default=__webpack_require__.n(invoke);function Form_slicedToArray(arr,i){return function Form_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Form_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Form_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Form_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Form_arrayLikeToArray(o,minLen)}(arr,i)||function Form_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Form_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Form=function Form(_ref){var gui=_ref.gui,values=_ref.values,onChange=_ref.onChange;return(0,jsx_runtime.jsx)("form",{children:Object.entries(gui).map((function(_ref2){var _ref3=Form_slicedToArray(_ref2,2),id=_ref3[0],input=_ref3[1],label=input.label,type=input.type,options=input.options,createHandler=function createHandler(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(v){return v};return function(event){var value=f(event.target.value);null==onChange||onChange({event,id,value})}},props={key:id,label,type,options,value:values[id]},inputTypes={number:function number(props){return(0,jsx_runtime.jsx)(Input,Object.assign({},props,{onChange:createHandler(Number)}))},text:function text(props){return(0,jsx_runtime.jsx)(Input,Object.assign({},props,{onChange:createHandler(Number)}))},select:function select(props){return(0,jsx_runtime.jsx)(Select,Object.assign({},props,{onChange:createHandler()}))}};return invoke_default()(inputTypes,[type],props)}))})};Form.displayName="Form";var Input=function Input(_ref4){var label=_ref4.label,type=_ref4.type,value=_ref4.value,onChange=_ref4.onChange,themeStyles=react.useContext(WirerContext).render.themeStyles;return(0,jsx_runtime.jsxs)("label",{style:themeStyles.nodeInputLabel,children:[(0,jsx_runtime.jsx)("span",{children:label}),(0,jsx_runtime.jsx)("input",{type,defaultValue:value,onChange,style:Object.assign({},themeStyles.nodeInput,themeStyles.nodeInputPadding)})]})};Input.displayName="Input";var Select=function Select(_ref5){var label=_ref5.label,options=_ref5.options,value=_ref5.value,onChange=_ref5.onChange;react.useContext(WirerContext);return(0,jsx_runtime.jsxs)("label",{style:themeStyles.nodeInputLabel,children:[(0,jsx_runtime.jsx)("span",{children:label}),(0,jsx_runtime.jsx)("select",{value,onChange,style:themeStyles.nodeInput,children:options.map((function(option){return(0,jsx_runtime.jsx)("option",{value:option,children:option.toString()},option)}))})]})};Select.displayName="Select";const components_Form=Form;try{Form.displayName="Form",Form.__docgenInfo={description:"",displayName:"Form",props:{gui:{defaultValue:null,description:"",name:"gui",required:!0,type:{name:"GuiConfig"}},values:{defaultValue:null,description:"",name:"values",required:!0,type:{name:"Record<string, any>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"Function"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/Form.tsx#Form"]={docgenInfo:Form.__docgenInfo,name:"Form",path:"src/react/components/Form.tsx#Form"})}catch(__react_docgen_typescript_loader_error){}var Node_Node=function Node(props){var title=props.title,bgColor=props.bgColor,gui=props.gui,inputs=props.inputs,onChange=props.onChange,wrapper=props.wrapper,className=props.className,wirer=react.useContext(WirerContext),themeStyles=wirer.render.themeStyles,headerStyle=themeStyles.nodeHeader;return wirer.render.lastSelected===wrapper&&(headerStyle=Object.assign({},headerStyle,themeStyles.nodeHeaderSelected)),(0,jsx_runtime.jsxs)("article",{style:Object.assign({},themeStyles.nodeContainer,{backgroundColor:bgColor}),className,children:[(0,jsx_runtime.jsxs)("header",{style:headerStyle,className:"node__header chrome",children:[(0,jsx_runtime.jsx)("span",{style:themeStyles.nodeHeaderName,children:title}),(0,jsx_runtime.jsx)("a",{style:themeStyles.nodeHeaderDelete,onClick:function onClick(){return wirer.removeNode(wrapper,!0)},children:"X"})]}),(0,jsx_runtime.jsx)(components_SplitSection,{node:wrapper,children:(0,jsx_runtime.jsx)(components_Form,{gui,values:inputs,onChange})})]})};Node_Node.displayName="Node";const components_Node=Node_Node;try{Node_Node.displayName="Node",Node_Node.__docgenInfo={description:"",displayName:"Node",props:{wrapper:{defaultValue:null,description:"",name:"wrapper",required:!0,type:{name:"Node"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},bgColor:{defaultValue:null,description:"",name:"bgColor",required:!0,type:{name:"string"}},gui:{defaultValue:null,description:"",name:"gui",required:!1,type:{name:"GuiConfig"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},inputs:{defaultValue:null,description:"",name:"inputs",required:!0,type:{name:"Record<string, any>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"Function"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/Node.tsx#Node"]={docgenInfo:Node_Node.__docgenInfo,name:"Node",path:"src/react/components/Node.tsx#Node"})}catch(__react_docgen_typescript_loader_error){}var lodash=__webpack_require__(96486);function SVGContainer_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function SVGContainer_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function SVGContainer_setPrototypeOf(o,p){return(SVGContainer_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function SVGContainer_createSuper(Derived){var hasNativeReflectConstruct=function SVGContainer_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=SVGContainer_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=SVGContainer_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return SVGContainer_possibleConstructorReturn(this,result)}}function SVGContainer_possibleConstructorReturn(self,call){return!call||"object"!=typeof call&&"function"!=typeof call?function SVGContainer_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function SVGContainer_getPrototypeOf(o){return(SVGContainer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var SVGContainer_SVGContainer=function(_React$Component){!function SVGContainer_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&SVGContainer_setPrototypeOf(subClass,superClass)}(SVGContainer,_React$Component);var _super=SVGContainer_createSuper(SVGContainer);function SVGContainer(){return SVGContainer_classCallCheck(this,SVGContainer),_super.apply(this,arguments)}return function SVGContainer_createClass(Constructor,protoProps,staticProps){return protoProps&&SVGContainer_defineProperties(Constructor.prototype,protoProps),staticProps&&SVGContainer_defineProperties(Constructor,staticProps),Constructor}(SVGContainer,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps){var _this=this,hasPositionChanged=function hasPositionChanged(){return _this.props.x!==nextProps.x||_this.props.y!==nextProps.y};return!!this.ref&&(!!function hasSelectedChanged(){return _this.props.selected!==nextProps.selected}()||(this.props.gui!==nextProps.gui||(this.props.ports!==nextProps.ports||(hasPositionChanged()&&(this.ref.setAttribute("x",nextProps.x),this.ref.setAttribute("y",nextProps.y),this.onComponentUpdate()),(hasPositionChanged()||function hasOffsetChanged(){return!(!_this.props.offset||!nextProps.offset)&&(_this.props.offset.x!==nextProps.offset.x||_this.props.offset.y!==nextProps.offset.y)}())&&this.onComponentUpdate(),function hasZoomChanged(){return _this.props.zoom!==nextProps.zoom}()&&this.onComponentUpdate(),!1))))}},{key:"onComponentUpdate",value:function onComponentUpdate(){var onComponentUpdate=this.props.onComponentUpdate;"function"==typeof onComponentUpdate&&onComponentUpdate(this)}},{key:"setupInstance",value:function setupInstance(ref){var wrapper=this.props.wrapper;return this.ref=ref,ref?(ref.style.overflow="visible",ref.wrapper=wrapper,ref.type="node",wrapper._el=ref,"function"==typeof this.props.ref?this.props.ref(ref):void 0):null}},{key:"render",value:function render(){var _this2=this,_this$props=this.props,children=_this$props.children,x=_this$props.x,y=_this$props.y;return(0,jsx_runtime.jsx)("svg",{x,y,ref:function ref(_ref){return _this2.setupInstance(_ref)},children})}}]),SVGContainer}(react.Component);SVGContainer_SVGContainer.__docgenInfo={description:"",methods:[{name:"onComponentUpdate",docblock:null,modifiers:[],params:[],returns:null},{name:"setupInstance",docblock:null,modifiers:[],params:[{name:"ref",type:null}],returns:null}],displayName:"SVGContainer"};const components_SVGContainer=SVGContainer_SVGContainer;function NodeContainer_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function NodeContainer_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function NodeContainer_setPrototypeOf(o,p){return(NodeContainer_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function NodeContainer_createSuper(Derived){var hasNativeReflectConstruct=function NodeContainer_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=NodeContainer_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=NodeContainer_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return NodeContainer_possibleConstructorReturn(this,result)}}function NodeContainer_possibleConstructorReturn(self,call){return!call||"object"!=typeof call&&"function"!=typeof call?function NodeContainer_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function NodeContainer_getPrototypeOf(o){return(NodeContainer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/SVGContainer.js"]={name:"SVGContainer",docgenInfo:SVGContainer_SVGContainer.__docgenInfo,path:"src/react/components/SVGContainer.js"});var reduceMax=function reduceMax(key){return function(max,obj){var currentValue=(0,lodash.get)(obj,key);return currentValue>max?currentValue:max}},NodeContainer=function(_React$Component){!function NodeContainer_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&NodeContainer_setPrototypeOf(subClass,superClass)}(NodeContainer,_React$Component);var _super=NodeContainer_createSuper(NodeContainer);function NodeContainer(){var _this;NodeContainer_classCallCheck(this,NodeContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).ref=void 0,_this}return function NodeContainer_createClass(Constructor,protoProps,staticProps){return protoProps&&NodeContainer_defineProperties(Constructor.prototype,protoProps),staticProps&&NodeContainer_defineProperties(Constructor,staticProps),Constructor}(NodeContainer,[{key:"componentDidUpdate",value:function componentDidUpdate(){this.updateDimensions()}},{key:"updateDimensions",value:function updateDimensions(){if(!this.ref)return null;var _this$props=this.props,node=_this$props.node,zoom=_this$props.zoom,childList=Array.from(this.ref.childNodes);node.cfg.width=childList.reduce(reduceMax("offsetWidth"),0),node.cfg.height=childList.reduce(reduceMax("offsetHeight"),0),this.ref.style.width=node.cfg.width.toString(),this.ref.style.height=node.cfg.height.toString(),this.ref.style.transform="scale("+zoom+")",this.ref.setAttribute("width",node.cfg.width.toString()),this.ref.setAttribute("height",node.cfg.height.toString())}},{key:"render",value:function render(){var _this$context,_this$context2,_this2=this,_this$props2=this.props,node=_this$props2.node,width=_this$props2.width,height=_this$props2.height,zoom=_this$props2.zoom,offset=_this$props2.offset,_p$multiply=_p_multiply(_p_add(node,offset),zoom),x=_p$multiply.x,y=_p$multiply.y,style=Object.assign({},null===(_this$context=this.context)||void 0===_this$context?void 0:_this$context.render.themeStyles.nodeWrapper,{transform:"scale("+zoom+")",width:Math.max(node.cfg.width||width,60),height:Math.max(node.cfg.height||height,60)});return(0,jsx_runtime.jsx)(components_SVGContainer,{wrapper:node,ports:node._ports,selected:(null===(_this$context2=this.context)||void 0===_this$context2?void 0:_this$context2.render.lastSelected)===node,x,y,offset,zoom,onComponentUpdate:function onComponentUpdate(){return _this2.updateDimensions()},children:(0,jsx_runtime.jsx)("foreignObject",{ref:function ref(_ref){return _this2.ref=_ref},className:"wirer-node-html",style,width,height,children:this.props.children})})}}]),NodeContainer}(react.Component);NodeContainer.contextType=WirerContext;const components_NodeContainer=NodeContainer;try{NodeContainer.displayName="NodeContainer",NodeContainer.__docgenInfo={description:"",displayName:"NodeContainer",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"Node"}},zoom:{defaultValue:null,description:"",name:"zoom",required:!0,type:{name:"number"}},offset:{defaultValue:null,description:"",name:"offset",required:!0,type:{name:"Position"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/NodeContainer.tsx#NodeContainer"]={docgenInfo:NodeContainer.__docgenInfo,name:"NodeContainer",path:"src/react/components/NodeContainer.tsx#NodeContainer"})}catch(__react_docgen_typescript_loader_error){}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var NodeList=function NodeList(_ref){var renderNode=_ref.renderNode,props=_objectWithoutProperties(_ref,["renderNode"]),nodes=props.nodes,offset=props.offset,zoom=props.zoom;console.debug("NodeList - customNode: "+(null!=renderNode));var NodeComponent=renderNode||components_Node;return(0,jsx_runtime.jsx)(react.Fragment,{children:nodes.map((function(node){return(0,jsx_runtime.jsx)(components_NodeContainer,{node,offset,zoom,children:(0,jsx_runtime.jsx)(NodeComponent,Object.assign({},deriveProps(node)))},node._id)}))})};NodeList.displayName="NodeList",NodeList.defaultProps={zoom:1,offset:{x:0,y:0}};var deriveProps=function deriveProps(node){return{wrapper:node,gui:node.gui,inputs:node.inputs,onChange:function onChange(){for(var _node$onChange,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_node$onChange=node.onChange).call.apply(_node$onChange,[node].concat(args))},title:node.cfg.title,width:node.cfg.width,bgColor:node.cfg.fill}};const components_NodeList=NodeList;try{NodeList.displayName="NodeList",NodeList.__docgenInfo={description:"",displayName:"NodeList",props:{nodes:{defaultValue:null,description:"",name:"nodes",required:!0,type:{name:"Node[]"}},offset:{defaultValue:{value:"{ x: 0, y: 0 }"},description:"",name:"offset",required:!1,type:{name:"Position"}},zoom:{defaultValue:{value:"1"},description:"",name:"zoom",required:!1,type:{name:"number"}},renderNode:{defaultValue:null,description:"",name:"renderNode",required:!0,type:{name:"() => Element"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/NodeList.tsx#NodeList"]={docgenInfo:NodeList.__docgenInfo,name:"NodeList",path:"src/react/components/NodeList.tsx#NodeList"})}catch(__react_docgen_typescript_loader_error){}function NodeGraph_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function NodeGraph_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function NodeGraph_setPrototypeOf(o,p){return(NodeGraph_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function NodeGraph_createSuper(Derived){var hasNativeReflectConstruct=function NodeGraph_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=NodeGraph_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=NodeGraph_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return NodeGraph_possibleConstructorReturn(this,result)}}function NodeGraph_possibleConstructorReturn(self,call){return!call||"object"!=typeof call&&"function"!=typeof call?function NodeGraph_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function NodeGraph_getPrototypeOf(o){return(NodeGraph_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var NodeGraph=function(_React$Component){!function NodeGraph_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&NodeGraph_setPrototypeOf(subClass,superClass)}(NodeGraph,_React$Component);var _super=NodeGraph_createSuper(NodeGraph);function NodeGraph(){return NodeGraph_classCallCheck(this,NodeGraph),_super.apply(this,arguments)}return function NodeGraph_createClass(Constructor,protoProps,staticProps){return protoProps&&NodeGraph_defineProperties(Constructor.prototype,protoProps),staticProps&&NodeGraph_defineProperties(Constructor,staticProps),Constructor}(NodeGraph,[{key:"render",value:function render(){var nodes=this.props.nodes||this.props.getNodes(),offset=this.props.offset||this.props.getOffset(),zoom=this.props.zoom||this.props.getZoom();return console.debug("NodeGraph"),(0,jsx_runtime.jsx)(components_NodeList,{nodes,offset,zoom})}}]),NodeGraph}(react.Component);NodeGraph.__docgenInfo={description:"",methods:[],displayName:"NodeGraph"};"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/NodeGraph.js"]={name:"NodeGraph",docgenInfo:NodeGraph.__docgenInfo,path:"src/react/components/NodeGraph.js"});var uid=__webpack_require__(95992),leader_line_min=__webpack_require__(35902);function Line_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Line_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Line_setPrototypeOf(o,p){return(Line_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Line_createSuper(Derived){var hasNativeReflectConstruct=function Line_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=Line_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=Line_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return Line_possibleConstructorReturn(this,result)}}function Line_possibleConstructorReturn(self,call){return!call||"object"!=typeof call&&"function"!=typeof call?function Line_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Line_getPrototypeOf(o){return(Line_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function shimPointAnchor(point,padding){return point instanceof Element?padding?leader_line_min.Z.pointAnchor(point,padding):point:leader_line_min.Z.pointAnchor(document.body,point)}var Line=function(_React$Component){!function Line_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Line_setPrototypeOf(subClass,superClass)}(Line,_React$Component);var _super=Line_createSuper(Line);function Line(){return Line_classCallCheck(this,Line),_super.apply(this,arguments)}return function Line_createClass(Constructor,protoProps,staticProps){return protoProps&&Line_defineProperties(Constructor.prototype,protoProps),staticProps&&Line_defineProperties(Constructor,staticProps),Constructor}(Line,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.line&&(this.line.remove(),this.line=null,this.svg=null)}},{key:"setupInstance",value:function setupInstance(ref){ref?(this.svg=ref,this.shouldInitLine()):this.componentWillUnmount()}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps){if(this.shouldInitLine(nextProps),this.line){this.props.start!=nextProps.start&&(this.line.start=shimPointAnchor(nextProps.start)),this.props.end!=nextProps.end&&(this.line.end=shimPointAnchor(nextProps.end));var options=get_default()(nextProps,"options",{});options.size=nextProps.size||4,this.line.setOptions(options),this.line.position(),nextProps.float&&this.svg.parentNode.appendChild(this.svg)}return!1}},{key:"initLine",value:function initLine(_ref){var start=_ref.start,end=_ref.end,options=_ref.options,startPoint=shimPointAnchor(start),endPoint=shimPointAnchor(end);this.line=new leader_line_min.Z(Object.assign({path:"fluid",dash:!0},options,{start:startPoint,end:endPoint,disableViewBox:!0,svg:this.svg}));var svg=this.line.getProps().svg;svg.leaderLine=this.line,svg.removeAttribute("viewBox"),"function"==typeof this.props.onLoad&&this.props.onLoad(this.line)}},{key:"shouldInitLine",value:function shouldInitLine(nextProps){if(this.line)return!1;var start=get_default()(nextProps,"start",this.props.start),end=get_default()(nextProps,"end",this.props.end),options=get_default()(nextProps,"options",this.props.options);return this.svg&&start&&end&&this.initLine({start,end,options}),!0}},{key:"render",value:function render(){var _this=this;return(0,jsx_runtime.jsx)("svg",{ref:function ref(_ref2){return _this.setupInstance(_ref2)}})}}]),Line}(react.Component);function Wire_slicedToArray(arr,i){return function Wire_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Wire_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Wire_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Wire_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wire_arrayLikeToArray(o,minLen)}(arr,i)||function Wire_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wire_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function components_Wire_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Wire_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function components_Wire_setPrototypeOf(o,p){return(components_Wire_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function components_Wire_createSuper(Derived){var hasNativeReflectConstruct=function components_Wire_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=components_Wire_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=components_Wire_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return components_Wire_possibleConstructorReturn(this,result)}}function components_Wire_possibleConstructorReturn(self,call){return!call||"object"!=typeof call&&"function"!=typeof call?function components_Wire_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function components_Wire_getPrototypeOf(o){return(components_Wire_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}Line.defaultProps={float:!1},Line.defaultProps={options:{path:"fluid",dash:!0,startSocket:"right",endSocket:"left",disableViewBox:!0,size:4}},Line.__docgenInfo={description:"",methods:[{name:"setupInstance",docblock:null,modifiers:[],params:[{name:"ref",type:null}],returns:null},{name:"initLine",docblock:null,modifiers:[],params:[{name:"{ start, end, options }",type:null}],returns:null},{name:"shouldInitLine",docblock:null,modifiers:[],params:[{name:"nextProps",type:null}],returns:null}],displayName:"Line",props:{float:{defaultValue:{value:"false",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/Line.js"]={name:"Line",docgenInfo:Line.__docgenInfo,path:"src/react/components/Line.js"});var Wire_Wire=function(_React$Component){!function components_Wire_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&components_Wire_setPrototypeOf(subClass,superClass)}(Wire,_React$Component);var _super=components_Wire_createSuper(Wire);function Wire(){return components_Wire_classCallCheck(this,Wire),_super.apply(this,arguments)}return function Wire_createClass(Constructor,protoProps,staticProps){return protoProps&&Wire_defineProperties(Constructor.prototype,protoProps),staticProps&&Wire_defineProperties(Constructor,staticProps),Constructor}(Wire,[{key:"setupInstance",value:function setupInstance(ref){ref&&this.props.wrapper.setupInstance(ref)}},{key:"render",value:function render(){var _this=this,_this$props=this.props,wrapper=_this$props.wrapper,offset=_this$props.offset,zoom=_this$props.zoom,_wrapper$getControlPo2=Wire_slicedToArray(wrapper.getControlPoints(),2),p1=_wrapper$getControlPo2[0],p2=_wrapper$getControlPo2[1],sourcePoint=p1 instanceof Port?p1.getPoint(offset,zoom):p1,targetPoint=p2 instanceof Port?p2.getPoint(offset,zoom):p2,direction=wrapper._inverted?-1:1,jointOffset=dt2p(sourcePoint.x,sourcePoint.y,targetPoint.x,targetPoint.y)/2,d=describeJoint(sourcePoint.x,sourcePoint.y,targetPoint.x,targetPoint.y,jointOffset*direction),setupRef=function setupRef(ref){ref&&(ref.wrapper=wrapper,ref.type="wire")};return(0,jsx_runtime.jsx)("g",{ref:function ref(_ref){return _this.setupInstance(_ref)},children:styles.map((function(style){return(0,jsx_runtime.jsx)("path",Object.assign({d,type:"wire"},style,{ref:setupRef}),style.stroke)}))})}}]),Wire}(react.Component),describeJoint=function describeJoint(x1,y1,x2,y2,offset){return["M",x1,y1,"C",x1+offset,y1,x2-offset,y2,x2,y2].join(" ")},dt2p=function dt2p(x1,y1,x2,y2){return Math.sqrt(Math.pow(x2-x1,2)+Math.pow(y2-y1,2))},styles=[{stroke:"#505050",strokeWidth:6,strokeLinejoin:"round",strokeLinecap:"round",fill:"none",opacity:1},{stroke:"#F3F375",strokeWidth:2,strokeLinecap:"round",strokeDasharray:6,fill:"none",opacity:.8}];try{Wire_Wire.displayName="Wire",Wire_Wire.__docgenInfo={description:"",displayName:"Wire",props:{wrapper:{defaultValue:null,description:"",name:"wrapper",required:!0,type:{name:"BaseWire"}},zoom:{defaultValue:null,description:"",name:"zoom",required:!0,type:{name:"number"}},offset:{defaultValue:null,description:"",name:"offset",required:!0,type:{name:"Position"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/Wire.tsx#Wire"]={docgenInfo:Wire_Wire.__docgenInfo,name:"Wire",path:"src/react/components/Wire.tsx#Wire"})}catch(__react_docgen_typescript_loader_error){}function Connections_slicedToArray(arr,i){return function Connections_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Connections_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Connections_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Connections_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Connections_arrayLikeToArray(o,minLen)}(arr,i)||function Connections_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Connections_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Connections_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function Connections_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Connections=function Connections(_ref){var connections=_ref.connections,canvas=_ref.canvas,props=Connections_objectWithoutProperties(_ref,["connections","canvas"]);return canvas.render.internalRender?connections.map((function(wire){return(0,jsx_runtime.jsx)(Wire_Wire,{wrapper:wire,zoom:canvas.render.zoom,offset:canvas.render.offset},(0,uid.h)(wire))})):connections.map((function(wire){var _wire$getControlPoint2=Connections_slicedToArray(wire.getControlPoints(),2),sourcePort=_wire$getControlPoint2[0],targetPort=_wire$getControlPoint2[1];return sourcePort&&targetPort?(0,jsx_runtime.jsx)(Line,{start:get_default()(sourcePort,"_el",sourcePort),end:get_default()(targetPort,"_el",targetPort),size:4*canvas.render.zoom,onLoad:function onLoad(line){var svg=line.getProps().svg;wire.setupInstance(svg),wire.custom=!canvas.render.internalRender,"function"==typeof props.onLoad&&props.onLoad(line,svg)}},(0,uid.h)(wire)):null}))};const components_Connections=Connections;try{Connections.displayName="Connections",Connections.__docgenInfo={description:"",displayName:"Connections",props:{connections:{defaultValue:null,description:"",name:"connections",required:!0,type:{name:"any"}},canvas:{defaultValue:null,description:"",name:"canvas",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react/components/Connections.tsx#Connections"]={docgenInfo:Connections.__docgenInfo,name:"Connections",path:"src/react/components/Connections.tsx#Connections"})}catch(__react_docgen_typescript_loader_error){}},77574:(module,__unused_webpack_exports,__webpack_require__)=>{function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!=typeof call&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}__webpack_require__(35837),__webpack_require__(88674),__webpack_require__(41539),__webpack_require__(47941),__webpack_require__(68304),__webpack_require__(30489),__webpack_require__(12419),__webpack_require__(78011),__webpack_require__(69070);var EventEmitter=__webpack_require__(17187).EventEmitter,Buffer=__webpack_require__(48764).Buffer;globalThis.Buffer=Buffer;var SerialPort=function(_EventEmitter){"use strict";!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SerialPort,_EventEmitter);var _read,_set,_close,_super=_createSuper(SerialPort);function SerialPort(port,options){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SerialPort),(_this=_super.call(this,options)).options=options||{},_this.browser=!0,_this.path=_this.options.path,_this.isOpen=!1,_this.port=null,_this.writer=null,_this.reader=null,_this.baudRate=_this.options.baudRate,_this.requestOptions=_this.options.requestOptions||{},_this.options.autoOpen&&_this.open(),_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(SerialPort,[{key:"open",value:function open(callback){var _this2=this;window.navigator.serial.requestPort(this.requestOptions).then((function(serialPort){if(_this2.port=serialPort,!_this2.isOpen)return _this2.port.open({baudRate:_this2.baudRate||57600})})).then((function(){return _this2.writer=_this2.port.writable.getWriter()})).then((function(){return _this2.reader=_this2.port.readable.getReader()})).then(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var _yield$_this2$reader$,value;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:_this2.emit("open"),_this2.isOpen=!0,callback&&callback(null);case 3:if(!_this2.port.readable.locked){_context.next=20;break}return _context.prev=4,_context.next=7,_this2.reader.read();case 7:if(_yield$_this2$reader$=_context.sent,value=_yield$_this2$reader$.value,!_yield$_this2$reader$.done){_context.next=12;break}return _context.abrupt("break",20);case 12:_this2.emit("data",Buffer.from(value)),_context.next=18;break;case 15:_context.prev=15,_context.t0=_context.catch(4),console.error(_context.t0);case 18:_context.next=3;break;case 20:case"end":return _context.stop()}}),_callee,null,[[4,15]])})))).catch((function(error){callback&&callback(error)}))}},{key:"close",value:(_close=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(callback){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,this.reader.releaseLock();case 3:return _context2.next=5,this.writer.releaseLock();case 5:return _context2.next=7,this.port.close();case 7:this.isOpen=!1,_context2.next=15;break;case 10:if(_context2.prev=10,_context2.t0=_context2.catch(0),!callback){_context2.next=14;break}return _context2.abrupt("return",callback(_context2.t0));case 14:throw _context2.t0;case 15:callback&&callback(null);case 16:case"end":return _context2.stop()}}),_callee2,this,[[0,10]])}))),function close(_x){return _close.apply(this,arguments)})},{key:"set",value:(_set=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var props,callback,signals,_args3=arguments;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(props=_args3.length>0&&void 0!==_args3[0]?_args3[0]:{},callback=_args3.length>1?_args3[1]:void 0,_context3.prev=2,signals={},Object.prototype.hasOwnProperty.call(props,"dtr")&&(signals.dataTerminalReady=props.dtr),Object.prototype.hasOwnProperty.call(props,"rts")&&(signals.requestToSend=props.rts),Object.prototype.hasOwnProperty.call(props,"brk")&&(signals.break=props.brk),!(Object.keys(signals).length>0)){_context3.next=10;break}return _context3.next=10,this.port.setSignals(signals);case 10:_context3.next=17;break;case 12:if(_context3.prev=12,_context3.t0=_context3.catch(2),!callback){_context3.next=16;break}return _context3.abrupt("return",callback(_context3.t0));case 16:throw _context3.t0;case 17:if(!callback){_context3.next=19;break}return _context3.abrupt("return",callback(null));case 19:case"end":return _context3.stop()}}),_callee3,this,[[2,12]])}))),function set(){return _set.apply(this,arguments)})},{key:"write",value:function write(buffer,callback){if(this.writer.write(buffer),callback)return callback(null)}},{key:"read",value:(_read=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(callback){var buffer;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,_context4.next=3,this.reader.read();case 3:buffer=_context4.sent,_context4.next=11;break;case 6:if(_context4.prev=6,_context4.t0=_context4.catch(0),!callback){_context4.next=10;break}return _context4.abrupt("return",callback(_context4.t0));case 10:throw _context4.t0;case 11:callback&&callback(null,buffer);case 12:case"end":return _context4.stop()}}),_callee4,this,[[0,6]])}))),function read(_x2){return _read.apply(this,arguments)})},{key:"flush",value:function flush(callback){if(console.warn("flush method is a NOP right now"),callback)return callback(null)}},{key:"drain",value:function drain(callback){if(console.warn("drain method is a NOP right now"),callback)return callback(null)}}],[{key:"list",value:function list(callback){return navigator.serial.getPorts().then((function(list){if(callback)return callback(null,list)})).catch((function(error){if(callback)return callback(error)}))}}]),SerialPort}(EventEmitter);module.exports=SerialPort},59163:module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=59163,module.exports=webpackEmptyContext},39251:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./Container.stories.tsx":82008,"./canvas.stories.tsx":39850,"./custom.stories.js":95056,"./dumb-box.stories.js":97310,"./examples.stories.js":5274,"./features.stories.js":87719,"./firmata.stories.js":10328};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=39251},4080:()=>{},48399:()=>{},46841:()=>{},97031:()=>{},47165:()=>{},46710:()=>{},66659:()=>{},36551:module=>{"use strict";module.exports=JSON.parse('{"name":"CanvasRenderingContext2D","prototype":{"canvas":{"path":["canvas"],"name":"canvas","type":"HTMLCanvasElement","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"TypeReference","kind":163,"typeKind":174},"globalAlpha":{"path":["globalAlpha"],"name":"globalAlpha","type":"number","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"NumberKeyword","kind":163,"typeKind":144},"globalCompositeOperation":{"path":["globalCompositeOperation"],"name":"globalCompositeOperation","type":"string","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"StringKeyword","kind":163,"typeKind":147},"drawImage":{"path":["drawImage"],"name":"drawImage","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["drawImage","image"],"name":"image","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"TypeReference","kind":161,"typeKind":174},{"path":["drawImage","sx"],"name":"sx","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["drawImage","sy"],"name":"sy","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["drawImage","sw"],"name":"sw","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["drawImage","sh"],"name":"sh","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["drawImage","dx"],"name":"dx","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["drawImage","dy"],"name":"dy","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["drawImage","dw"],"name":"dw","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["drawImage","dh"],"name":"dh","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"beginPath":{"path":["beginPath"],"name":"beginPath","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[]},"clip":{"path":["clip"],"name":"clip","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["clip","path"],"name":"path","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"TypeReference","kind":161,"typeKind":174},{"path":["clip","fillRule"],"name":"fillRule","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"TypeReference","kind":161,"typeKind":174}]},"fill":{"path":["fill"],"name":"fill","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["fill","path"],"name":"path","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"TypeReference","kind":161,"typeKind":174},{"path":["fill","fillRule"],"name":"fillRule","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"TypeReference","kind":161,"typeKind":174}]},"isPointInPath":{"path":["isPointInPath"],"name":"isPointInPath","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"BooleanKeyword","kind":165,"typeKind":131,"parameters":[{"path":["isPointInPath","path"],"name":"path","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"TypeReference","kind":161,"typeKind":174},{"path":["isPointInPath","x"],"name":"x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["isPointInPath","y"],"name":"y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["isPointInPath","fillRule"],"name":"fillRule","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"TypeReference","kind":161,"typeKind":174}]},"isPointInStroke":{"path":["isPointInStroke"],"name":"isPointInStroke","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"BooleanKeyword","kind":165,"typeKind":131,"parameters":[{"path":["isPointInStroke","path"],"name":"path","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"TypeReference","kind":161,"typeKind":174},{"path":["isPointInStroke","x"],"name":"x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["isPointInStroke","y"],"name":"y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"stroke":{"path":["stroke"],"name":"stroke","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["stroke","path"],"name":"path","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"TypeReference","kind":161,"typeKind":174}]},"fillStyle":{"path":["fillStyle"],"name":"fillStyle","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"UnionType","kind":163,"typeKind":183},"strokeStyle":{"path":["strokeStyle"],"name":"strokeStyle","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"UnionType","kind":163,"typeKind":183},"createLinearGradient":{"path":["createLinearGradient"],"name":"createLinearGradient","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"TypeReference","kind":165,"typeKind":174,"parameters":[{"path":["createLinearGradient","x0"],"name":"x0","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["createLinearGradient","y0"],"name":"y0","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["createLinearGradient","x1"],"name":"x1","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["createLinearGradient","y1"],"name":"y1","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"createPattern":{"path":["createPattern"],"name":"createPattern","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"UnionType","kind":165,"typeKind":183,"parameters":[{"path":["createPattern","image"],"name":"image","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"TypeReference","kind":161,"typeKind":174},{"path":["createPattern","repetition"],"name":"repetition","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"UnionType","kind":161,"typeKind":183}]},"createRadialGradient":{"path":["createRadialGradient"],"name":"createRadialGradient","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"TypeReference","kind":165,"typeKind":174,"parameters":[{"path":["createRadialGradient","x0"],"name":"x0","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["createRadialGradient","y0"],"name":"y0","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["createRadialGradient","r0"],"name":"r0","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["createRadialGradient","x1"],"name":"x1","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["createRadialGradient","y1"],"name":"y1","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["createRadialGradient","r1"],"name":"r1","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"filter":{"path":["filter"],"name":"filter","type":"string","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"StringKeyword","kind":163,"typeKind":147},"createImageData":{"path":["createImageData"],"name":"createImageData","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"TypeReference","kind":165,"typeKind":174,"parameters":[{"path":["createImageData","imagedata"],"name":"imagedata","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"TypeReference","kind":161,"typeKind":174}]},"getImageData":{"path":["getImageData"],"name":"getImageData","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"TypeReference","kind":165,"typeKind":174,"parameters":[{"path":["getImageData","sx"],"name":"sx","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["getImageData","sy"],"name":"sy","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["getImageData","sw"],"name":"sw","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["getImageData","sh"],"name":"sh","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"putImageData":{"path":["putImageData"],"name":"putImageData","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["putImageData","imagedata"],"name":"imagedata","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"TypeReference","kind":161,"typeKind":174},{"path":["putImageData","dx"],"name":"dx","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["putImageData","dy"],"name":"dy","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["putImageData","dirtyX"],"name":"dirtyX","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["putImageData","dirtyY"],"name":"dirtyY","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["putImageData","dirtyWidth"],"name":"dirtyWidth","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["putImageData","dirtyHeight"],"name":"dirtyHeight","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"imageSmoothingEnabled":{"path":["imageSmoothingEnabled"],"name":"imageSmoothingEnabled","type":"boolean","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"BooleanKeyword","kind":163,"typeKind":131},"imageSmoothingQuality":{"path":["imageSmoothingQuality"],"name":"imageSmoothingQuality","type":"ImageSmoothingQuality","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"TypeReference","kind":163,"typeKind":174},"arc":{"path":["arc"],"name":"arc","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["arc","x"],"name":"x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["arc","y"],"name":"y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["arc","radius"],"name":"radius","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["arc","startAngle"],"name":"startAngle","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["arc","endAngle"],"name":"endAngle","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["arc","anticlockwise"],"name":"anticlockwise","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"BooleanKeyword","kind":161,"typeKind":131}]},"arcTo":{"path":["arcTo"],"name":"arcTo","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["arcTo","x1"],"name":"x1","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["arcTo","y1"],"name":"y1","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["arcTo","x2"],"name":"x2","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["arcTo","y2"],"name":"y2","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["arcTo","radius"],"name":"radius","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"bezierCurveTo":{"path":["bezierCurveTo"],"name":"bezierCurveTo","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["bezierCurveTo","cp1x"],"name":"cp1x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["bezierCurveTo","cp1y"],"name":"cp1y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["bezierCurveTo","cp2x"],"name":"cp2x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["bezierCurveTo","cp2y"],"name":"cp2y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["bezierCurveTo","x"],"name":"x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["bezierCurveTo","y"],"name":"y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"closePath":{"path":["closePath"],"name":"closePath","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[]},"ellipse":{"path":["ellipse"],"name":"ellipse","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["ellipse","x"],"name":"x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["ellipse","y"],"name":"y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["ellipse","radiusX"],"name":"radiusX","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["ellipse","radiusY"],"name":"radiusY","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["ellipse","rotation"],"name":"rotation","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["ellipse","startAngle"],"name":"startAngle","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["ellipse","endAngle"],"name":"endAngle","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["ellipse","anticlockwise"],"name":"anticlockwise","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"BooleanKeyword","kind":161,"typeKind":131}]},"lineTo":{"path":["lineTo"],"name":"lineTo","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["lineTo","x"],"name":"x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["lineTo","y"],"name":"y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"moveTo":{"path":["moveTo"],"name":"moveTo","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["moveTo","x"],"name":"x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["moveTo","y"],"name":"y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"quadraticCurveTo":{"path":["quadraticCurveTo"],"name":"quadraticCurveTo","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["quadraticCurveTo","cpx"],"name":"cpx","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["quadraticCurveTo","cpy"],"name":"cpy","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["quadraticCurveTo","x"],"name":"x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["quadraticCurveTo","y"],"name":"y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"rect":{"path":["rect"],"name":"rect","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["rect","x"],"name":"x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["rect","y"],"name":"y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["rect","w"],"name":"w","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["rect","h"],"name":"h","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"lineCap":{"path":["lineCap"],"name":"lineCap","type":"CanvasLineCap","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"TypeReference","kind":163,"typeKind":174},"lineDashOffset":{"path":["lineDashOffset"],"name":"lineDashOffset","type":"number","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"NumberKeyword","kind":163,"typeKind":144},"lineJoin":{"path":["lineJoin"],"name":"lineJoin","type":"CanvasLineJoin","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"TypeReference","kind":163,"typeKind":174},"lineWidth":{"path":["lineWidth"],"name":"lineWidth","type":"number","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"NumberKeyword","kind":163,"typeKind":144},"miterLimit":{"path":["miterLimit"],"name":"miterLimit","type":"number","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"NumberKeyword","kind":163,"typeKind":144},"getLineDash":{"path":["getLineDash"],"name":"getLineDash","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"ArrayType","kind":165,"typeKind":179,"parameters":[]},"setLineDash":{"path":["setLineDash"],"name":"setLineDash","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["setLineDash","segments"],"name":"segments","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"ArrayType","kind":161,"typeKind":179}]},"clearRect":{"path":["clearRect"],"name":"clearRect","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["clearRect","x"],"name":"x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["clearRect","y"],"name":"y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["clearRect","w"],"name":"w","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["clearRect","h"],"name":"h","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"fillRect":{"path":["fillRect"],"name":"fillRect","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["fillRect","x"],"name":"x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["fillRect","y"],"name":"y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["fillRect","w"],"name":"w","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["fillRect","h"],"name":"h","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"strokeRect":{"path":["strokeRect"],"name":"strokeRect","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["strokeRect","x"],"name":"x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["strokeRect","y"],"name":"y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["strokeRect","w"],"name":"w","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["strokeRect","h"],"name":"h","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"shadowBlur":{"path":["shadowBlur"],"name":"shadowBlur","type":"number","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"NumberKeyword","kind":163,"typeKind":144},"shadowColor":{"path":["shadowColor"],"name":"shadowColor","type":"string","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"StringKeyword","kind":163,"typeKind":147},"shadowOffsetX":{"path":["shadowOffsetX"],"name":"shadowOffsetX","type":"number","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"NumberKeyword","kind":163,"typeKind":144},"shadowOffsetY":{"path":["shadowOffsetY"],"name":"shadowOffsetY","type":"number","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"NumberKeyword","kind":163,"typeKind":144},"restore":{"path":["restore"],"name":"restore","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[]},"save":{"path":["save"],"name":"save","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[]},"fillText":{"path":["fillText"],"name":"fillText","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["fillText","text"],"name":"text","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"StringKeyword","kind":161,"typeKind":147},{"path":["fillText","x"],"name":"x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["fillText","y"],"name":"y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["fillText","maxWidth"],"name":"maxWidth","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"measureText":{"path":["measureText"],"name":"measureText","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"TypeReference","kind":165,"typeKind":174,"parameters":[{"path":["measureText","text"],"name":"text","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"StringKeyword","kind":161,"typeKind":147}]},"strokeText":{"path":["strokeText"],"name":"strokeText","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["strokeText","text"],"name":"text","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"StringKeyword","kind":161,"typeKind":147},{"path":["strokeText","x"],"name":"x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["strokeText","y"],"name":"y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["strokeText","maxWidth"],"name":"maxWidth","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"direction":{"path":["direction"],"name":"direction","type":"CanvasDirection","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"TypeReference","kind":163,"typeKind":174},"font":{"path":["font"],"name":"font","type":"string","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"StringKeyword","kind":163,"typeKind":147},"textAlign":{"path":["textAlign"],"name":"textAlign","type":"CanvasTextAlign","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"TypeReference","kind":163,"typeKind":174},"textBaseline":{"path":["textBaseline"],"name":"textBaseline","type":"CanvasTextBaseline","ownSyntaxKind":"PropertySignature","typeSyntaxKind":"TypeReference","kind":163,"typeKind":174},"getTransform":{"path":["getTransform"],"name":"getTransform","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"TypeReference","kind":165,"typeKind":174,"parameters":[]},"resetTransform":{"path":["resetTransform"],"name":"resetTransform","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[]},"rotate":{"path":["rotate"],"name":"rotate","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["rotate","angle"],"name":"angle","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"scale":{"path":["scale"],"name":"scale","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["scale","x"],"name":"x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["scale","y"],"name":"y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"setTransform":{"path":["setTransform"],"name":"setTransform","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["setTransform","transform"],"name":"transform","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"TypeReference","kind":161,"typeKind":174}]},"transform":{"path":["transform"],"name":"transform","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["transform","a"],"name":"a","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["transform","b"],"name":"b","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["transform","c"],"name":"c","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["transform","d"],"name":"d","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["transform","e"],"name":"e","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["transform","f"],"name":"f","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"translate":{"path":["translate"],"name":"translate","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["translate","x"],"name":"x","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144},{"path":["translate","y"],"name":"y","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"NumberKeyword","kind":161,"typeKind":144}]},"drawFocusIfNeeded":{"path":["drawFocusIfNeeded"],"name":"drawFocusIfNeeded","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["drawFocusIfNeeded","path"],"name":"path","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"TypeReference","kind":161,"typeKind":174},{"path":["drawFocusIfNeeded","element"],"name":"element","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"TypeReference","kind":161,"typeKind":174}]},"scrollPathIntoView":{"path":["scrollPathIntoView"],"name":"scrollPathIntoView","type":"function","ownSyntaxKind":"MethodSignature","typeSyntaxKind":"VoidKeyword","kind":165,"typeKind":113,"parameters":[{"path":["scrollPathIntoView","path"],"name":"path","type":"parameter","ownSyntaxKind":"Parameter","typeSyntaxKind":"TypeReference","kind":161,"typeKind":174}]}}}')},25651:module=>{"use strict";module.exports=JSON.parse('[[{"refNode":"start","inputs":{},"id":0,"x":207,"y":90,"ports":{"in":[],"out":[],"flow_in":[],"flow_out":[[{"node":6,"id":0}]]}},{"refNode":"SourceNumber","inputs":{"number":4},"id":1,"x":75,"y":206,"ports":{"in":[],"out":[[{"node":5,"id":0}]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceNumber","inputs":{"number":2},"id":2,"x":30,"y":343,"ports":{"in":[],"out":[[{"node":4,"id":0},{"node":4,"id":1}]],"flow_in":[],"flow_out":[]}},{"refNode":"Alert","inputs":{},"id":3,"x":563,"y":236,"ports":{"in":[[{"node":5,"id":0}]],"out":[],"flow_in":[[{"node":6,"id":0}]],"flow_out":[[]]}},{"refNode":"Operation","inputs":{"op":"+"},"id":4,"x":159,"y":371,"ports":{"in":[[{"node":2,"id":0}],[{"node":2,"id":0}]],"out":[[{"node":5,"id":1}]],"flow_in":[],"flow_out":[]}},{"refNode":"Operation","inputs":{"op":"=="},"id":5,"x":274,"y":264,"ports":{"in":[[{"node":1,"id":0}],[{"node":4,"id":0}]],"out":[[{"node":3,"id":0},{"node":6,"id":0}]],"flow_in":[],"flow_out":[]}},{"refNode":"If","inputs":{},"id":6,"x":404,"y":161,"ports":{"in":[[{"node":5,"id":0}]],"out":[],"flow_in":[[{"node":0,"id":0}]],"flow_out":[[{"node":3,"id":0}],[]]}}],[{"refNode":"start","inputs":{},"id":0,"x":328,"y":77,"ports":{"in":[],"out":[],"flow_in":[],"flow_out":[[{"node":3,"id":0}]]}},{"refNode":"SourceNumber","inputs":{"number":2},"id":1,"x":132.42070311501737,"y":417.0035438954401,"ports":{"in":[],"out":[[{"node":6,"id":1}]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceNumber","inputs":{"number":2},"id":2,"x":146.7657232622189,"y":264.94658309523123,"ports":{"in":[],"out":[[{"node":6,"id":0}]],"flow_in":[],"flow_out":[]}},{"refNode":"Alert","inputs":{},"id":3,"x":491.8058720595286,"y":110.76782457857433,"ports":{"in":[[{"node":5,"id":0}]],"out":[],"flow_in":[[{"node":0,"id":0}]],"flow_out":[[]]}},{"refNode":"Operation","inputs":{"op":"+"},"id":5,"x":398.87990154309523,"y":223.98002449406113,"ports":{"in":[[{"node":8,"id":0}],[{"node":6,"id":0}]],"out":[[{"node":3,"id":0}]],"flow_in":[],"flow_out":[]}},{"refNode":"Operation","inputs":{"op":"+"},"id":6,"x":286.5586575710936,"y":310.17411831475874,"ports":{"in":[[{"node":2,"id":0}],[{"node":1,"id":0}]],"out":[[{"node":5,"id":1}]],"flow_in":[],"flow_out":[]}},{"refNode":"SourceString","inputs":{"text":"the result is "},"id":8,"x":189.05671119774888,"y":163.25361968931247,"ports":{"in":[],"out":[[{"node":5,"id":0}]],"flow_in":[],"flow_out":[]}}]]')}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[504],(()=>(__webpack_exec__(37707),__webpack_exec__(99669),__webpack_exec__(76986),__webpack_exec__(90168),__webpack_exec__(47704),__webpack_exec__(84873),__webpack_exec__(62853),__webpack_exec__(81953),__webpack_exec__(22609),__webpack_exec__(63095),__webpack_exec__(21424),__webpack_exec__(42126))));__webpack_require__.O()}]);